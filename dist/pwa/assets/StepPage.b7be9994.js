import{d as gn,h as B,x as mn,c as V,i as Mn,S as Fn,w as ae,o as gt,l as mt,g as ze,r as ie,U as Pn,V as pn,W as Rn,K as Nn,m as Se,X as Vn,Y as Bn,k as qn,L as Re,I as $n,Z as Ln,$ as jn,G as Xt,y as Ne,z as zt,A as Ut,f as We,O as vt,P as Yn,F as Ht,N as Xn,a0 as zn,R as Un,Q as Hn,_ as Wn,a1 as Gn,a2 as Kn}from"./index.47d523d2.js";import{a as Wt,Q as bt}from"./QBtn.183f7d79.js";import{Q as Zn,h as Ge,c as Qn}from"./QSpinner.afab296c.js";import{Q as Jn}from"./QPage.5d688a59.js";/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gt(Object(n),!0).forEach(function(o){eo(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ot(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ot=function(t){return typeof t}:ot=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(e)}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)}function to(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function no(e,t){if(e==null)return{};var n=to(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}var oo="1.14.0";function be(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var we=be(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ue=be(/Edge/i),Kt=be(/firefox/i),$e=be(/safari/i)&&!be(/chrome/i)&&!be(/android/i),vn=be(/iP(ad|od|hone)/i),io=be(/chrome/i)&&be(/android/i),bn={capture:!1,passive:!1};function R(e,t,n){e.addEventListener(t,n,!we&&bn)}function F(e,t,n){e.removeEventListener(t,n,!we&&bn)}function st(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function ro(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&st(e,t):st(e,t))||o&&e===n)return e;if(e===n)break}while(e=ro(e))}return null}var Zt=/\s+/g;function le(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Zt," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Zt," ")}}function w(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Fe(e,t){var n="";if(typeof e=="string")n=e;else do{var o=w(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function yn(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function me(){var e=document.scrollingElement;return e||document.documentElement}function Q(e,t,n,o,i){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,l,s,u,f,d;if(e!==window&&e.parentNode&&e!==me()?(r=e.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,u=r.right,f=r.height,d=r.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!we))do if(i&&i.getBoundingClientRect&&(w(i,"transform")!=="none"||n&&w(i,"position")!=="static")){var x=i.getBoundingClientRect();a-=x.top+parseInt(w(i,"border-top-width")),l-=x.left+parseInt(w(i,"border-left-width")),s=a+r.height,u=l+r.width;break}while(i=i.parentNode);if(o&&e!==window){var S=Fe(i||e),y=S&&S.a,T=S&&S.d;S&&(a/=T,l/=y,d/=y,f/=T,s=a+f,u=l+d)}return{top:a,left:l,bottom:s,right:u,width:d,height:f}}}function Qt(e,t,n){for(var o=_e(e,!0),i=Q(e)[t];o;){var r=Q(o)[n],a=void 0;if(n==="top"||n==="left"?a=i>=r:a=i<=r,!a)return o;if(o===me())break;o=_e(o,!1)}return!1}function Pe(e,t,n,o){for(var i=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==E.ghost&&(o||a[r]!==E.dragged)&&ge(a[r],n.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function Lt(e,t){for(var n=e.lastElementChild;n&&(n===E.ghost||w(n,"display")==="none"||t&&!st(n,t));)n=n.previousElementSibling;return n||null}function fe(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==E.clone&&(!t||st(e,t))&&n++;return n}function Jt(e){var t=0,n=0,o=me();if(e)do{var i=Fe(e),r=i.a,a=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function ao(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function _e(e,t){if(!e||!e.getBoundingClientRect)return me();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=w(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return me();if(o||t)return n;o=!0}}while(n=n.parentNode);return me()}function lo(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function yt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Le;function wn(e,t){return function(){if(!Le){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Le=setTimeout(function(){Le=void 0},t)}}}function so(){clearTimeout(Le),Le=void 0}function En(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Sn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ue="Sortable"+new Date().getTime();function uo(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(w(i,"display")==="none"||i===E.ghost)){e.push({target:i,rect:Q(i)});var r=pe({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=Fe(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(ao(e,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var r=!1,a=0;e.forEach(function(l){var s=0,u=l.target,f=u.fromRect,d=Q(u),x=u.prevFromRect,S=u.prevToRect,y=l.rect,T=Fe(u,!0);T&&(d.top-=T.f,d.left-=T.e),u.toRect=d,u.thisAnimationDuration&&yt(x,d)&&!yt(f,d)&&(y.top-d.top)/(y.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(s=co(y,x,S,i.options)),yt(d,f)||(u.prevFromRect=f,u.prevToRect=d,s||(s=i.options.animation),i.animate(u,y,d,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),r?t=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),e=[]},animate:function(o,i,r,a){if(a){w(o,"transition",""),w(o,"transform","");var l=Fe(this.el),s=l&&l.a,u=l&&l.d,f=(i.left-r.left)/(s||1),d=(i.top-r.top)/(u||1);o.animatingX=!!f,o.animatingY=!!d,w(o,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=fo(o),w(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),w(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){w(o,"transition",""),w(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function fo(e){return e.offsetWidth}function co(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Ae=[],wt={initializeByDefault:!0},He={mount:function(t){for(var n in wt)wt.hasOwnProperty(n)&&!(n in t)&&(t[n]=wt[n]);Ae.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ae.push(t)},pluginEvent:function(t,n,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=t+"Global";Ae.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][r]&&n[a.pluginName][r](pe({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](pe({sortable:n},o)))})},initializePlugins:function(t,n,o,i){Ae.forEach(function(l){var s=l.pluginName;if(!(!t.options[s]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,ye(o,u.defaults)}});for(var r in t.options)if(!!t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a!="undefined"&&(t.options[r]=a)}},getEventProperties:function(t,n){var o={};return Ae.forEach(function(i){typeof i.eventProperties=="function"&&ye(o,i.eventProperties.call(n[i.pluginName],t))}),o},modifyOption:function(t,n,o){var i;return Ae.forEach(function(r){!t[r.pluginName]||r.optionListeners&&typeof r.optionListeners[n]=="function"&&(i=r.optionListeners[n].call(t[r.pluginName],o))}),i}};function ho(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,r=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,u=e.newIndex,f=e.oldDraggableIndex,d=e.newDraggableIndex,x=e.originalEvent,S=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[ue],!!t){var T,q=t.options,$="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!we&&!Ue?T=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(o,!0,!0)),T.to=a||n,T.from=l||n,T.item=i||n,T.clone=r,T.oldIndex=s,T.newIndex=u,T.oldDraggableIndex=f,T.newDraggableIndex=d,T.originalEvent=x,T.pullMode=S?S.lastPutMode:void 0;var I=pe(pe({},y),He.getEventProperties(o,t));for(var Z in I)T[Z]=I[Z];n&&n.dispatchEvent(T),q[$]&&q[$].call(t,T)}}var go=["evt"],re=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=no(o,go);He.pluginEvent.bind(E)(t,n,pe({dragEl:p,parentEl:U,ghostEl:k,rootEl:j,nextEl:ke,lastDownEl:it,cloneEl:H,cloneHidden:Ce,dragStarted:Ve,putSortable:ee,activeSortable:E.active,originalEvent:i,oldIndex:Me,oldDraggableIndex:je,newIndex:se,newDraggableIndex:Ee,hideGhostForTarget:Dn,unhideGhostForTarget:kn,cloneNowHidden:function(){Ce=!0},cloneNowShown:function(){Ce=!1},dispatchSortableEvent:function(l){oe({sortable:n,name:l,originalEvent:i})}},r))};function oe(e){ho(pe({putSortable:ee,cloneEl:H,targetEl:p,rootEl:j,oldIndex:Me,oldDraggableIndex:je,newIndex:se,newDraggableIndex:Ee},e))}var p,U,k,j,ke,it,H,Ce,Me,se,je,Ee,Ke,ee,Oe=!1,ut=!1,dt=[],xe,he,Et,St,en,tn,Ve,Ie,Ye,Xe=!1,Ze=!1,rt,te,Ct=[],Mt=!1,ft=[],pt=typeof document!="undefined",Qe=vn,nn=Ue||we?"cssFloat":"float",mo=pt&&!io&&!vn&&"draggable"in document.createElement("div"),Cn=function(){if(!!pt){if(we)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),_n=function(t,n){var o=w(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Pe(t,0,n),a=Pe(t,1,n),l=r&&w(r),s=a&&w(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Q(r).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Q(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===d)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&o[nn]==="none"||a&&o[nn]==="none"&&u+f>i)?"vertical":"horizontal"},po=function(t,n,o){var i=o?t.left:t.top,r=o?t.right:t.bottom,a=o?t.width:t.height,l=o?n.left:n.top,s=o?n.right:n.bottom,u=o?n.width:n.height;return i===l||r===s||i+a/2===l+u/2},vo=function(t,n){var o;return dt.some(function(i){var r=i[ue].options.emptyInsertThreshold;if(!(!r||Lt(i))){var a=Q(i),l=t>=a.left-r&&t<=a.right+r,s=n>=a.top-r&&n<=a.bottom+r;if(l&&s)return o=i}}),o},xn=function(t){function n(r,a){return function(l,s,u,f){var d=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(a||d))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(l,s,u,f),a)(l,s,u,f);var x=(a?l:s).options.group.name;return r===!0||typeof r=="string"&&r===x||r.join&&r.indexOf(x)>-1}}var o={},i=t.group;(!i||ot(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,t.group=o},Dn=function(){!Cn&&k&&w(k,"display","none")},kn=function(){!Cn&&k&&w(k,"display","")};pt&&document.addEventListener("click",function(e){if(ut)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ut=!1,!1},!0);var De=function(t){if(p){t=t.touches?t.touches[0]:t;var n=vo(t.clientX,t.clientY);if(n){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[ue]._onDragOver(o)}}},bo=function(t){p&&p.parentNode[ue]._isOutsideThisEl(t.target)};function E(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ye({},t),e[ue]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _n(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&!$e,emptyInsertThreshold:5};He.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);xn(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:mo,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?R(e,"pointerdown",this._onTapStart):(R(e,"mousedown",this._onTapStart),R(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(R(e,"dragover",this),R(e,"dragenter",this)),dt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ye(this,uo())}E.prototype={constructor:E,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ie=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,p):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,i=this.options,r=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,f=i.filter;if(Do(o),!p&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&$e&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ge(s,i.draggable,o,!1),!(s&&s.animated)&&it!==s)){if(Me=fe(s),je=fe(s,i.draggable),typeof f=="function"){if(f.call(this,t,s,this)){oe({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:o,fromEl:o}),re("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=ge(u,d.trim(),o,!1),d)return oe({sortable:n,rootEl:d,name:"filter",targetEl:s,fromEl:o,toEl:o}),re("filter",n,{evt:t}),!0}),f)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!ge(u,i.handle,o,!1)||this._prepareDragStart(t,l,s)}}},_prepareDragStart:function(t,n,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument,s;if(o&&!p&&o.parentNode===r){var u=Q(o);if(j=r,p=o,U=p.parentNode,ke=p.nextSibling,it=o,Ke=a.group,E.dragged=p,xe={target:p,clientX:(n||t).clientX,clientY:(n||t).clientY},en=xe.clientX-u.left,tn=xe.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,p.style["will-change"]="all",s=function(){if(re("delayEnded",i,{evt:t}),E.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Kt&&i.nativeDraggable&&(p.draggable=!0),i._triggerDragStart(t,n),oe({sortable:i,name:"choose",originalEvent:t}),le(p,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){yn(p,f.trim(),_t)}),R(l,"dragover",De),R(l,"mousemove",De),R(l,"touchmove",De),R(l,"mouseup",i._onDrop),R(l,"touchend",i._onDrop),R(l,"touchcancel",i._onDrop),Kt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),re("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ue||we))){if(E.eventCanceled){this._onDrop();return}R(l,"mouseup",i._disableDelayedDrag),R(l,"touchend",i._disableDelayedDrag),R(l,"touchcancel",i._disableDelayedDrag),R(l,"mousemove",i._delayedDragTouchMoveHandler),R(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&R(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&_t(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;F(t,"mouseup",this._disableDelayedDrag),F(t,"touchend",this._disableDelayedDrag),F(t,"touchcancel",this._disableDelayedDrag),F(t,"mousemove",this._delayedDragTouchMoveHandler),F(t,"touchmove",this._delayedDragTouchMoveHandler),F(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?R(document,"pointermove",this._onTouchMove):n?R(document,"touchmove",this._onTouchMove):R(document,"mousemove",this._onTouchMove):(R(p,"dragend",this),R(j,"dragstart",this._onDragStart));try{document.selection?at(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Oe=!1,j&&p){re("dragStarted",this,{evt:n}),this.nativeDraggable&&R(document,"dragover",bo);var o=this.options;!t&&le(p,o.dragClass,!1),le(p,o.ghostClass,!0),E.active=this,t&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(he){this._lastX=he.clientX,this._lastY=he.clientY,Dn();for(var t=document.elementFromPoint(he.clientX,he.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(he.clientX,he.clientY),t!==n);)n=t;if(p.parentNode[ue]._isOutsideThisEl(t),n)do{if(n[ue]){var o=void 0;if(o=n[ue]._onDragOver({clientX:he.clientX,clientY:he.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);kn()}},_onTouchMove:function(t){if(xe){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,r=t.touches?t.touches[0]:t,a=k&&Fe(k,!0),l=k&&a&&a.a,s=k&&a&&a.d,u=Qe&&te&&Jt(te),f=(r.clientX-xe.clientX+i.x)/(l||1)+(u?u[0]-Ct[0]:0)/(l||1),d=(r.clientY-xe.clientY+i.y)/(s||1)+(u?u[1]-Ct[1]:0)/(s||1);if(!E.active&&!Oe){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(k){a?(a.e+=f-(Et||0),a.f+=d-(St||0)):a={a:1,b:0,c:0,d:1,e:f,f:d};var x="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");w(k,"webkitTransform",x),w(k,"mozTransform",x),w(k,"msTransform",x),w(k,"transform",x),Et=f,St=d,he=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!k){var t=this.options.fallbackOnBody?document.body:j,n=Q(p,!0,Qe,!0,t),o=this.options;if(Qe){for(te=t;w(te,"position")==="static"&&w(te,"transform")==="none"&&te!==document;)te=te.parentNode;te!==document.body&&te!==document.documentElement?(te===document&&(te=me()),n.top+=te.scrollTop,n.left+=te.scrollLeft):te=me(),Ct=Jt(te)}k=p.cloneNode(!0),le(k,o.ghostClass,!1),le(k,o.fallbackClass,!0),le(k,o.dragClass,!0),w(k,"transition",""),w(k,"transform",""),w(k,"box-sizing","border-box"),w(k,"margin",0),w(k,"top",n.top),w(k,"left",n.left),w(k,"width",n.width),w(k,"height",n.height),w(k,"opacity","0.8"),w(k,"position",Qe?"absolute":"fixed"),w(k,"zIndex","100000"),w(k,"pointerEvents","none"),E.ghost=k,t.appendChild(k),w(k,"transform-origin",en/parseInt(k.style.width)*100+"% "+tn/parseInt(k.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,i=t.dataTransfer,r=o.options;if(re("dragStart",this,{evt:t}),E.eventCanceled){this._onDrop();return}re("setupClone",this),E.eventCanceled||(H=Sn(p),H.draggable=!1,H.style["will-change"]="",this._hideClone(),le(H,this.options.chosenClass,!1),E.clone=H),o.cloneId=at(function(){re("clone",o),!E.eventCanceled&&(o.options.removeCloneOnHide||j.insertBefore(H,p),o._hideClone(),oe({sortable:o,name:"clone"}))}),!n&&le(p,r.dragClass,!0),n?(ut=!0,o._loopId=setInterval(o._emulateDragOver,50)):(F(document,"mouseup",o._onDrop),F(document,"touchend",o._onDrop),F(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,p)),R(document,"drop",o),w(p,"transform","translateZ(0)")),Oe=!0,o._dragStartId=at(o._dragStarted.bind(o,n,t)),R(document,"selectstart",o),Ve=!0,$e&&w(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,i,r,a,l=this.options,s=l.group,u=E.active,f=Ke===s,d=l.sort,x=ee||u,S,y=this,T=!1;if(Mt)return;function q(A,de){re(A,y,pe({evt:t,isOwner:f,axis:S?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:d,fromSortable:x,target:o,completed:I,onMove:function(X,m){return Je(j,n,p,i,X,Q(X),t,m)},changed:Z},de))}function $(){q("dragOverAnimationCapture"),y.captureAnimationState(),y!==x&&x.captureAnimationState()}function I(A){return q("dragOverCompleted",{insertion:A}),A&&(f?u._hideClone():u._showClone(y),y!==x&&(le(p,ee?ee.options.ghostClass:u.options.ghostClass,!1),le(p,l.ghostClass,!0)),ee!==y&&y!==E.active?ee=y:y===E.active&&ee&&(ee=null),x===y&&(y._ignoreWhileAnimating=o),y.animateAll(function(){q("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==x&&(x.animateAll(),x._ignoreWhileAnimating=null)),(o===p&&!p.animated||o===n&&!o.animated)&&(Ie=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(p.parentNode[ue]._isOutsideThisEl(t.target),!A&&De(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),T=!0}function Z(){se=fe(p),Ee=fe(p,l.draggable),oe({sortable:y,name:"change",toEl:n,newIndex:se,newDraggableIndex:Ee,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=ge(o,l.draggable,n,!0),q("dragOver"),E.eventCanceled)return T;if(p.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||y._ignoreWhileAnimating===o)return I(!1);if(ut=!1,u&&!l.disabled&&(f?d||(a=U!==j):ee===this||(this.lastPutMode=Ke.checkPull(this,u,p,t))&&s.checkPut(this,u,p,t))){if(S=this._getDirection(t,o)==="vertical",i=Q(p),q("dragOverValid"),E.eventCanceled)return T;if(a)return U=j,$(),this._hideClone(),q("revert"),E.eventCanceled||(ke?j.insertBefore(p,ke):j.appendChild(p)),I(!0);var Y=Lt(n,l.draggable);if(!Y||So(t,S,this)&&!Y.animated){if(Y===p)return I(!1);if(Y&&n===t.target&&(o=Y),o&&(r=Q(o)),Je(j,n,p,i,o,r,t,!!o)!==!1)return $(),n.appendChild(p),U=n,Z(),I(!0)}else if(Y&&Eo(t,S,this)){var W=Pe(n,0,l,!0);if(W===p)return I(!1);if(o=W,r=Q(o),Je(j,n,p,i,o,r,t,!1)!==!1)return $(),n.insertBefore(p,W),U=n,Z(),I(!0)}else if(o.parentNode===n){r=Q(o);var O=0,M,L=p.parentNode!==n,c=!po(p.animated&&p.toRect||i,o.animated&&o.toRect||r,S),g=S?"top":"left",b=Qt(o,"top","top")||Qt(p,"top","top"),v=b?b.scrollTop:void 0;Ie!==o&&(M=r[g],Xe=!1,Ze=!c&&l.invertSwap||L),O=Co(t,o,r,S,c?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ze,Ie===o);var C;if(O!==0){var _=fe(p);do _-=O,C=U.children[_];while(C&&(w(C,"display")==="none"||C===k))}if(O===0||C===o)return I(!1);Ie=o,Ye=O;var P=o.nextElementSibling,D=!1;D=O===1;var h=Je(j,n,p,i,o,r,t,D);if(h!==!1)return(h===1||h===-1)&&(D=h===1),Mt=!0,setTimeout(wo,30),$(),D&&!P?n.appendChild(p):o.parentNode.insertBefore(p,D?P:o),b&&En(b,0,v-b.scrollTop),U=p.parentNode,M!==void 0&&!Ze&&(rt=Math.abs(M-Q(o)[g])),Z(),I(!0)}if(n.contains(p))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){F(document,"mousemove",this._onTouchMove),F(document,"touchmove",this._onTouchMove),F(document,"pointermove",this._onTouchMove),F(document,"dragover",De),F(document,"mousemove",De),F(document,"touchmove",De)},_offUpEvents:function(){var t=this.el.ownerDocument;F(t,"mouseup",this._onDrop),F(t,"touchend",this._onDrop),F(t,"pointerup",this._onDrop),F(t,"touchcancel",this._onDrop),F(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(se=fe(p),Ee=fe(p,o.draggable),re("drop",this,{evt:t}),U=p&&p.parentNode,se=fe(p),Ee=fe(p,o.draggable),E.eventCanceled){this._nulling();return}Oe=!1,Ze=!1,Xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ft(this.cloneId),Ft(this._dragStartId),this.nativeDraggable&&(F(document,"drop",this),F(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),$e&&w(document.body,"user-select",""),w(p,"transform",""),t&&(Ve&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),k&&k.parentNode&&k.parentNode.removeChild(k),(j===U||ee&&ee.lastPutMode!=="clone")&&H&&H.parentNode&&H.parentNode.removeChild(H),p&&(this.nativeDraggable&&F(p,"dragend",this),_t(p),p.style["will-change"]="",Ve&&!Oe&&le(p,ee?ee.options.ghostClass:this.options.ghostClass,!1),le(p,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:t}),j!==U?(se>=0&&(oe({rootEl:U,name:"add",toEl:U,fromEl:j,originalEvent:t}),oe({sortable:this,name:"remove",toEl:U,originalEvent:t}),oe({rootEl:U,name:"sort",toEl:U,fromEl:j,originalEvent:t}),oe({sortable:this,name:"sort",toEl:U,originalEvent:t})),ee&&ee.save()):se!==Me&&se>=0&&(oe({sortable:this,name:"update",toEl:U,originalEvent:t}),oe({sortable:this,name:"sort",toEl:U,originalEvent:t})),E.active&&((se==null||se===-1)&&(se=Me,Ee=je),oe({sortable:this,name:"end",toEl:U,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){re("nulling",this),j=p=U=k=ke=H=it=Ce=xe=he=Ve=se=Ee=Me=je=Ie=Ye=ee=Ke=E.dragged=E.ghost=E.clone=E.active=null,ft.forEach(function(t){t.checked=!0}),ft.length=Et=St=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":p&&(this._onDragOver(t),yo(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)n=o[i],ge(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||xo(n));return t},sort:function(t,n){var o={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];ge(l,this.options.draggable,i,!1)&&(o[r]=l)},this),n&&this.captureAnimationState(),t.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ge(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var i=He.modifyOption(this,t,n);typeof i!="undefined"?o[t]=i:o[t]=n,t==="group"&&xn(o)},destroy:function(){re("destroy",this);var t=this.el;t[ue]=null,F(t,"mousedown",this._onTapStart),F(t,"touchstart",this._onTapStart),F(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(F(t,"dragover",this),F(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),dt.splice(dt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ce){if(re("hideClone",this),E.eventCanceled)return;w(H,"display","none"),this.options.removeCloneOnHide&&H.parentNode&&H.parentNode.removeChild(H),Ce=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ce){if(re("showClone",this),E.eventCanceled)return;p.parentNode==j&&!this.options.group.revertClone?j.insertBefore(H,p):ke?j.insertBefore(H,ke):j.appendChild(H),this.options.group.revertClone&&this.animate(p,H),w(H,"display",""),Ce=!1}}};function yo(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Je(e,t,n,o,i,r,a,l){var s,u=e[ue],f=u.options.onMove,d;return window.CustomEvent&&!we&&!Ue?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=r||Q(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),f&&(d=f.call(u,s,a)),d}function _t(e){e.draggable=!1}function wo(){Mt=!1}function Eo(e,t,n){var o=Q(Pe(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function So(e,t,n){var o=Q(Lt(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function Co(e,t,n,o,i,r,a,l){var s=o?e.clientY:e.clientX,u=o?n.height:n.width,f=o?n.top:n.left,d=o?n.bottom:n.right,x=!1;if(!a){if(l&&rt<u*i){if(!Xe&&(Ye===1?s>f+u*r/2:s<d-u*r/2)&&(Xe=!0),Xe)x=!0;else if(Ye===1?s<f+rt:s>d-rt)return-Ye}else if(s>f+u*(1-i)/2&&s<d-u*(1-i)/2)return _o(t)}return x=x||a,x&&(s<f+u*r/2||s>d-u*r/2)?s>f+u/2?1:-1:0}function _o(e){return fe(p)<fe(e)?1:-1}function xo(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Do(e){ft.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&ft.push(o)}}function at(e){return setTimeout(e,0)}function Ft(e){return clearTimeout(e)}pt&&R(document,"touchmove",function(e){(E.active||Oe)&&e.cancelable&&e.preventDefault()});E.utils={on:R,off:F,css:w,find:yn,is:function(t,n){return!!ge(t,n,t,!1)},extend:lo,throttle:wn,closest:ge,toggleClass:le,clone:Sn,index:fe,nextTick:at,cancelNextTick:Ft,detectDirection:_n,getChild:Pe};E.get=function(e){return e[ue]};E.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(E.utils=pe(pe({},E.utils),o.utils)),He.mount(o)})};E.create=function(e,t){return new E(e,t)};E.version=oo;var K=[],Be,Pt,Rt=!1,xt,Dt,ct,qe;function ko(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?R(document,"dragover",this._handleAutoScroll):this.options.supportPointer?R(document,"pointermove",this._handleFallbackAutoScroll):o.touches?R(document,"touchmove",this._handleFallbackAutoScroll):R(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?F(document,"dragover",this._handleAutoScroll):(F(document,"pointermove",this._handleFallbackAutoScroll),F(document,"touchmove",this._handleFallbackAutoScroll),F(document,"mousemove",this._handleFallbackAutoScroll)),on(),lt(),so()},nulling:function(){ct=Pt=Be=Rt=qe=xt=Dt=null,K.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var i=this,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(r,a);if(ct=n,o||this.options.forceAutoScrollFallback||Ue||we||$e){kt(n,this.options,l,o);var s=_e(l,!0);Rt&&(!qe||r!==xt||a!==Dt)&&(qe&&on(),qe=setInterval(function(){var u=_e(document.elementFromPoint(r,a),!0);u!==s&&(s=u,lt()),kt(n,i.options,u,o)},10),xt=r,Dt=a)}else{if(!this.options.bubbleScroll||_e(l,!0)===me()){lt();return}kt(n,this.options,_e(l,!1),!1)}}},ye(e,{pluginName:"scroll",initializeByDefault:!0})}function lt(){K.forEach(function(e){clearInterval(e.pid)}),K=[]}function on(){clearInterval(qe)}var kt=wn(function(e,t,n,o){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,s=me(),u=!1,f;Pt!==n&&(Pt=n,lt(),Be=t.scroll,f=t.scrollFn,Be===!0&&(Be=_e(n,!0)));var d=0,x=Be;do{var S=x,y=Q(S),T=y.top,q=y.bottom,$=y.left,I=y.right,Z=y.width,Y=y.height,W=void 0,O=void 0,M=S.scrollWidth,L=S.scrollHeight,c=w(S),g=S.scrollLeft,b=S.scrollTop;S===s?(W=Z<M&&(c.overflowX==="auto"||c.overflowX==="scroll"||c.overflowX==="visible"),O=Y<L&&(c.overflowY==="auto"||c.overflowY==="scroll"||c.overflowY==="visible")):(W=Z<M&&(c.overflowX==="auto"||c.overflowX==="scroll"),O=Y<L&&(c.overflowY==="auto"||c.overflowY==="scroll"));var v=W&&(Math.abs(I-i)<=a&&g+Z<M)-(Math.abs($-i)<=a&&!!g),C=O&&(Math.abs(q-r)<=a&&b+Y<L)-(Math.abs(T-r)<=a&&!!b);if(!K[d])for(var _=0;_<=d;_++)K[_]||(K[_]={});(K[d].vx!=v||K[d].vy!=C||K[d].el!==S)&&(K[d].el=S,K[d].vx=v,K[d].vy=C,clearInterval(K[d].pid),(v!=0||C!=0)&&(u=!0,K[d].pid=setInterval(function(){o&&this.layer===0&&E.active._onTouchMove(ct);var P=K[this.layer].vy?K[this.layer].vy*l:0,D=K[this.layer].vx?K[this.layer].vx*l:0;typeof f=="function"&&f.call(E.dragged.parentNode[ue],D,P,e,ct,K[this.layer].el)!=="continue"||En(K[this.layer].el,D,P)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&x!==s&&(x=_e(x,!1)));Rt=u}},30),Tn=function(t){var n=t.originalEvent,o=t.putSortable,i=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(!!n){var u=o||r;l();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function jt(){}jt.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Pe(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Tn};ye(jt,{pluginName:"revertOnSpill"});function Yt(){}Yt.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,i=o||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Tn};ye(Yt,{pluginName:"removeOnSpill"});E.mount(new ko);E.mount(Yt,jt);function To(){return typeof window!="undefined"?window.console:global.console}const Ao=To();function Io(e){const t=Object.create(null);return function(o){return t[o]||(t[o]=e(o))}}const Oo=/-(\w)/g,rn=Io(e=>e.replace(Oo,(t,n)=>n?n.toUpperCase():""));function Tt(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function an(e,t,n){const o=n===0?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function Mo(e,t){return Object.values(e).indexOf(t)}function Fo(e,t,n,o){if(!e)return[];const i=Object.values(e),r=t.length-o;return[...t].map((l,s)=>s>=r?i.length:i.indexOf(l))}function An(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function Po(e){return t=>{this.realList!==null&&this["onDrag"+e](t),An.call(this,e,t)}}function Ro(e){return["transition-group","TransitionGroup"].includes(e)}function No(e){if(!e||e.length!==1)return!1;const[{type:t}]=e;return t?Ro(t.name):!1}function Vo(e,t){return t?{...t.props,...t.attrs}:e}const Nt=["Start","Add","Remove","Update","End"],Vt=["Choose","Unchoose","Sort","Filter","Clone"],Bo=["Move",...Nt,...Vt].map(e=>"on"+e);let At=null;const qo={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},$o=gn({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Nt.map(e=>e.toLowerCase()),...Vt.map(e=>e.toLowerCase())],props:qo,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=Vo(this.$attrs,this.componentData);return e?(this.transitionMode=No(e),B(this.getTag(),t,e)):B(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&Ao.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Nt.forEach(i=>{e["on"+i]=Po.call(this,i)}),Vt.forEach(i=>{e["on"+i]=An.bind(this,i)});const t=Object.keys(this.$attrs).reduce((i,r)=>(i[rn(r)]=this.$attrs[r],i),{}),n=Object.assign({},t,e,{onMove:(i,r)=>this.onDragMove(i,r)});!("draggable"in n)&&(n.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new E(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?mn(this.component):this.tag},updateOptions(e){for(var t in e){const n=rn(t);Bo.indexOf(n)===-1&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Fo(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=Mo(this.getChildrenNodes()||[],e);if(t===-1)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=o=>o.splice(t,0,o.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.computeIndexes(),this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),At=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;Tt(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(an(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){Tt(e.clone);return}if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Tt(e.item),an(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),i=this.context,r=this.computeFutureIndex(o,e);Object.assign(i,{futureIndex:r});const a=Object.assign({},e,{relatedContext:o,draggedContext:i});return n(a,t)},onDragEnd(){this.computeIndexes(),At=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const r=n.getUnderlyingVm(t);if(r)return Object.assign(r,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter(a=>a.style.display!=="none");if(n.length===0)return 0;const o=n.indexOf(t.related),i=e.component.getVmIndex(o);return n.indexOf(At)!==-1||!t.willInsertAfter?i:i+1}}}),Lo={dark:{type:Boolean,default:null}};function jo(e,t){return V(()=>e.dark===null?t.dark.isActive:e.dark)}function Yo({validate:e,resetValidation:t,requiresQForm:n}){const o=Mn(Fn,!1);if(o!==!1){const{props:i,proxy:r}=ze();Object.assign(r,{validate:e,resetValidation:t}),ae(()=>i.disable,a=>{a===!0?(typeof t=="function"&&t(),o.unbindComponent(r)):o.bindComponent(r)}),gt(()=>{i.disable!==!0&&o.bindComponent(r)}),mt(()=>{i.disable!==!0&&o.unbindComponent(r)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ln=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,sn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,un=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,et=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,tt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,It={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ln.test(e),hexaColor:e=>sn.test(e),hexOrHexaColor:e=>un.test(e),rgbColor:e=>et.test(e),rgbaColor:e=>tt.test(e),rgbOrRgbaColor:e=>et.test(e)||tt.test(e),hexOrRgbColor:e=>ln.test(e)||et.test(e),hexaOrRgbaColor:e=>sn.test(e)||tt.test(e),anyColor:e=>un.test(e)||et.test(e)||tt.test(e)},Xo=[!0,!1,"ondemand"],zo={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Xo.includes(e)}};function Uo(e,t){const{props:n,proxy:o}=ze(),i=ie(!1),r=ie(null),a=ie(null);Yo({validate:y,resetValidation:S});let l=0,s;const u=V(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),f=V(()=>n.disable!==!0&&u.value===!0),d=V(()=>n.error===!0||i.value===!0),x=V(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:r.value);ae(()=>n.modelValue,()=>{T()}),ae(()=>n.reactiveRules,$=>{$===!0?s===void 0&&(s=ae(()=>n.rules,()=>{T(!0)})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),ae(e,$=>{$===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,f.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&q())});function S(){l++,t.value=!1,a.value=null,i.value=!1,r.value=null,q.cancel()}function y($=n.modelValue){if(f.value!==!0)return!0;const I=++l,Z=t.value!==!0?()=>{a.value=!0}:()=>{},Y=(O,M)=>{O===!0&&Z(),i.value=O,r.value=M||null,t.value=!1},W=[];for(let O=0;O<n.rules.length;O++){const M=n.rules[O];let L;if(typeof M=="function"?L=M($,It):typeof M=="string"&&It[M]!==void 0&&(L=It[M]($)),L===!1||typeof L=="string")return Y(!0,L),!1;L!==!0&&L!==void 0&&W.push(L)}return W.length===0?(Y(!1),!0):(t.value=!0,Promise.all(W).then(O=>{if(O===void 0||Array.isArray(O)===!1||O.length===0)return I===l&&Y(!1),!0;const M=O.find(L=>L===!1||typeof L=="string");return I===l&&Y(M!==void 0,M),M===void 0},O=>(I===l&&(console.error(O),Y(!0)),!1)))}function T($){f.value===!0&&n.lazyRules!=="ondemand"&&(a.value===!0||n.lazyRules!==!0&&$!==!0)&&q()}const q=Pn(y,0);return mt(()=>{s!==void 0&&s(),q.cancel()}),Object.assign(o,{resetValidation:S,validate:y}),pn(o,"hasError",()=>d.value),{isDirtyModel:a,hasRules:u,hasError:d,errorMessage:x,validate:y,resetValidation:S}}const dn=/^on[A-Z]/;function Ho(e,t){const n={listeners:ie({}),attributes:ie({})};function o(){const i={},r={};for(const a in e)a!=="class"&&a!=="style"&&dn.test(a)===!1&&(i[a]=e[a]);for(const a in t.props)dn.test(a)===!0&&(r[a]=t.props[a]);n.attributes.value=i,n.listeners.value=r}return Rn(o),o(),n}let Ot,nt=0;const J=new Array(256);for(let e=0;e<256;e++)J[e]=(e+256).toString(16).substring(1);const Wo=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),fn=4096;function Go(){(Ot===void 0||nt+16>fn)&&(nt=0,Ot=Wo(fn));const e=Array.prototype.slice.call(Ot,nt,nt+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,J[e[0]]+J[e[1]]+J[e[2]]+J[e[3]]+"-"+J[e[4]]+J[e[5]]+"-"+J[e[6]]+J[e[7]]+"-"+J[e[8]]+J[e[9]]+"-"+J[e[10]]+J[e[11]]+J[e[12]]+J[e[13]]+J[e[14]]+J[e[15]]}let Bt=[],Ko=[];function In(e){Ko.length===0?e():Bt.push(e)}function Zo(e){Bt=Bt.filter(t=>t!==e)}function qt(e){return e===void 0?`f_${Go()}`:e}function $t(e){return e!=null&&(""+e).length!==0}const Qo={...Lo,...zo,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Jo=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function ei(){const{props:e,attrs:t,proxy:n,vnode:o}=ze();return{isDark:jo(e,n.$q),editable:V(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:ie(!1),focused:ie(!1),hasPopupOpen:!1,splitAttrs:Ho(t,o),targetUid:ie(qt(e.for)),rootRef:ie(null),targetRef:ie(null),controlRef:ie(null)}}function ti(e){const{props:t,emit:n,slots:o,attrs:i,proxy:r}=ze(),{$q:a}=r;let l=null;e.hasValue===void 0&&(e.hasValue=V(()=>$t(t.modelValue))),e.emitValue===void 0&&(e.emitValue=h=>{n("update:modelValue",h)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:c,onFocusout:g}),Object.assign(e,{clearValue:b,onControlFocusin:c,onControlFocusout:g,focus:M}),e.computedCounter===void 0&&(e.computedCounter=V(()=>{if(t.counter!==!1){const h=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,A=t.maxlength!==void 0?t.maxlength:t.maxValues;return h+(A!==void 0?" / "+A:"")}}));const{isDirtyModel:s,hasRules:u,hasError:f,errorMessage:d,resetValidation:x}=Uo(e.focused,e.innerLoading),S=e.floatingLabel!==void 0?V(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):V(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),y=V(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),T=V(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),q=V(()=>`q-field row no-wrap items-start q-field--${T.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(S.value===!0?" q-field--float":"")+(I.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(f.value===!0?" q-field--error":"")+(f.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&y.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),$=V(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(f.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),I=V(()=>t.labelSlot===!0||t.label!==void 0),Z=V(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&f.value!==!0?` text-${t.labelColor}`:"")),Y=V(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:S.value,modelValue:t.modelValue,emitValue:e.emitValue})),W=V(()=>{const h={for:e.targetUid.value};return t.disable===!0?h["aria-disabled"]="true":t.readonly===!0&&(h["aria-readonly"]="true"),h});ae(()=>t.for,h=>{e.targetUid.value=qt(h)});function O(){const h=document.activeElement;let A=e.targetRef!==void 0&&e.targetRef.value;A&&(h===null||h.id!==e.targetUid.value)&&(A.hasAttribute("tabindex")===!0||(A=A.querySelector("[tabindex]")),A&&A!==h&&A.focus({preventScroll:!0}))}function M(){In(O)}function L(){Zo(O);const h=document.activeElement;h!==null&&e.rootRef.value.contains(h)&&h.blur()}function c(h){l!==null&&(clearTimeout(l),l=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",h))}function g(h,A){l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",h)),A!==void 0&&A())})}function b(h){Nn(h),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Se(()=>{x(),a.platform.is.mobile!==!0&&(s.value=!1)})}function v(){const h=[];return o.prepend!==void 0&&h.push(B("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Re},o.prepend())),h.push(B("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},C())),f.value===!0&&t.noErrorIcon===!1&&h.push(P("error",[B(Wt,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?h.push(P("inner-loading-append",o.loading!==void 0?o.loading():[B(Zn,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&h.push(P("inner-clearable-append",[B(Wt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:b})])),o.append!==void 0&&h.push(B("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Re},o.append())),e.getInnerAppend!==void 0&&h.push(P("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&h.push(e.getControlChild()),h}function C(){const h=[];return t.prefix!==void 0&&t.prefix!==null&&h.push(B("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&h.push(e.getShadowControl()),e.getControl!==void 0?h.push(e.getControl()):o.rawControl!==void 0?h.push(o.rawControl()):o.control!==void 0&&h.push(B("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(Y.value))),I.value===!0&&h.push(B("div",{class:Z.value},Ge(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&h.push(B("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),h.concat(Ge(o.default))}function _(){let h,A;f.value===!0?d.value!==null?(h=[B("div",{role:"alert"},d.value)],A=`q--slot-error-${d.value}`):(h=Ge(o.error),A="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(h=[B("div",t.hint)],A=`q--slot-hint-${t.hint}`):(h=Ge(o.hint),A="q--slot-hint"));const de=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&de===!1&&h===void 0)return;const N=B("div",{key:A,class:"q-field__messages col"},h);return B("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Re},[t.hideBottomSpace===!0?N:B($n,{name:"q-transition--field-message"},()=>N),de===!0?B("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function P(h,A){return A===null?null:B("div",{key:h,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},A)}let D=!1;return Vn(()=>{D=!0}),Bn(()=>{D===!0&&t.autofocus===!0&&r.focus()}),gt(()=>{qn.value===!0&&t.for===void 0&&(e.targetUid.value=qt()),t.autofocus===!0&&r.focus()}),mt(()=>{l!==null&&clearTimeout(l)}),Object.assign(r,{focus:M,blur:L}),function(){const A=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...W.value}:W.value;return B("label",{ref:e.rootRef,class:[q.value,i.class],style:i.style,...A},[o.before!==void 0?B("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Re},o.before()):null,B("div",{class:"q-field__inner relative-position col self-stretch"},[B("div",{ref:e.controlRef,class:$.value,tabindex:-1,...e.controlEvents},v()),y.value===!0?_():null]),o.after!==void 0?B("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Re},o.after()):null])}}const cn={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ht={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},On=Object.keys(ht);On.forEach(e=>{ht[e].regex=new RegExp(ht[e].pattern)});const ni=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+On.join("")+"])|(.)","g"),hn=/[.*+?^${}()|[\]\\]/g,G=String.fromCharCode(1),oi={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function ii(e,t,n,o){let i,r,a,l,s,u;const f=ie(null),d=ie(S());function x(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}ae(()=>e.type+e.autogrow,T),ae(()=>e.mask,c=>{if(c!==void 0)q(d.value,!0);else{const g=M(d.value);T(),e.modelValue!==g&&t("update:modelValue",g)}}),ae(()=>e.fillMask+e.reverseFillMask,()=>{f.value===!0&&q(d.value,!0)}),ae(()=>e.unmaskedValue,()=>{f.value===!0&&q(d.value)});function S(){if(T(),f.value===!0){const c=W(M(e.modelValue));return e.fillMask!==!1?L(c):c}return e.modelValue}function y(c){if(c<i.length)return i.slice(-c);let g="",b=i;const v=b.indexOf(G);if(v>-1){for(let C=c-b.length;C>0;C--)g+=G;b=b.slice(0,v)+g+b.slice(v)}return b}function T(){if(f.value=e.mask!==void 0&&e.mask.length!==0&&x(),f.value===!1){l=void 0,i="",r="";return}const c=cn[e.mask]===void 0?e.mask:cn[e.mask],g=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",b=g.replace(hn,"\\$&"),v=[],C=[],_=[];let P=e.reverseFillMask===!0,D="",h="";c.replace(ni,(X,m,z,ve,ce)=>{if(ve!==void 0){const ne=ht[ve];_.push(ne),h=ne.negate,P===!0&&(C.push("(?:"+h+"+)?("+ne.pattern+"+)?(?:"+h+"+)?("+ne.pattern+"+)?"),P=!1),C.push("(?:"+h+"+)?("+ne.pattern+")?")}else if(z!==void 0)D="\\"+(z==="\\"?"":z),_.push(z),v.push("([^"+D+"]+)?"+D+"?");else{const ne=m!==void 0?m:ce;D=ne==="\\"?"\\\\\\\\":ne.replace(hn,"\\\\$&"),_.push(ne),v.push("([^"+D+"]+)?"+D+"?")}});const A=new RegExp("^"+v.join("")+"("+(D===""?".":"[^"+D+"]")+"+)?"+(D===""?"":"["+D+"]*")+"$"),de=C.length-1,N=C.map((X,m)=>m===0&&e.reverseFillMask===!0?new RegExp("^"+b+"*"+X):m===de?new RegExp("^"+X+"("+(h===""?".":h)+"+)?"+(e.reverseFillMask===!0?"$":b+"*")):new RegExp("^"+X));a=_,l=X=>{const m=A.exec(e.reverseFillMask===!0?X:X.slice(0,_.length+1));m!==null&&(X=m.slice(1).join(""));const z=[],ve=N.length;for(let ce=0,ne=X;ce<ve;ce++){const Te=N[ce].exec(ne);if(Te===null)break;ne=ne.slice(Te.shift().length),z.push(...Te)}return z.length!==0?z.join(""):X},i=_.map(X=>typeof X=="string"?X:G).join(""),r=i.split(G).join(g)}function q(c,g,b){const v=o.value,C=v.selectionEnd,_=v.value.length-C,P=M(c);g===!0&&T();const D=W(P),h=e.fillMask!==!1?L(D):D,A=d.value!==h;v.value!==h&&(v.value=h),A===!0&&(d.value=h),document.activeElement===v&&Se(()=>{if(h===r){const N=e.reverseFillMask===!0?r.length:0;v.setSelectionRange(N,N,"forward");return}if(b==="insertFromPaste"&&e.reverseFillMask!==!0){const N=v.selectionEnd;let X=C-1;for(let m=s;m<=X&&m<N;m++)i[m]!==G&&X++;I.right(v,X);return}if(["deleteContentBackward","deleteContentForward"].indexOf(b)>-1){const N=e.reverseFillMask===!0?C===0?h.length>D.length?1:0:Math.max(0,h.length-(h===r?0:Math.min(D.length,_)+1))+1:C;v.setSelectionRange(N,N,"forward");return}if(e.reverseFillMask===!0)if(A===!0){const N=Math.max(0,h.length-(h===r?0:Math.min(D.length,_+1)));N===1&&C===1?v.setSelectionRange(N,N,"forward"):I.rightReverse(v,N)}else{const N=h.length-_;v.setSelectionRange(N,N,"backward")}else if(A===!0){const N=Math.max(0,i.indexOf(G),Math.min(D.length,C)-1);I.right(v,N)}else{const N=C-1;I.right(v,N)}});const de=e.unmaskedValue===!0?M(h):h;String(e.modelValue)!==de&&n(de,!0)}function $(c,g,b){const v=W(M(c.value));g=Math.max(0,i.indexOf(G),Math.min(v.length,g)),s=g,c.setSelectionRange(g,b,"forward")}const I={left(c,g){const b=i.slice(g-1).indexOf(G)===-1;let v=Math.max(0,g-1);for(;v>=0;v--)if(i[v]===G){g=v,b===!0&&g++;break}if(v<0&&i[g]!==void 0&&i[g]!==G)return I.right(c,0);g>=0&&c.setSelectionRange(g,g,"backward")},right(c,g){const b=c.value.length;let v=Math.min(b,g+1);for(;v<=b;v++)if(i[v]===G){g=v;break}else i[v-1]===G&&(g=v);if(v>b&&i[g-1]!==void 0&&i[g-1]!==G)return I.left(c,b);c.setSelectionRange(g,g,"forward")},leftReverse(c,g){const b=y(c.value.length);let v=Math.max(0,g-1);for(;v>=0;v--)if(b[v-1]===G){g=v;break}else if(b[v]===G&&(g=v,v===0))break;if(v<0&&b[g]!==void 0&&b[g]!==G)return I.rightReverse(c,0);g>=0&&c.setSelectionRange(g,g,"backward")},rightReverse(c,g){const b=c.value.length,v=y(b),C=v.slice(0,g+1).indexOf(G)===-1;let _=Math.min(b,g+1);for(;_<=b;_++)if(v[_-1]===G){g=_,g>0&&C===!0&&g--;break}if(_>b&&v[g-1]!==void 0&&v[g-1]!==G)return I.leftReverse(c,b);c.setSelectionRange(g,g,"forward")}};function Z(c){t("click",c),u=void 0}function Y(c){if(t("keydown",c),Ln(c)===!0||c.altKey===!0)return;const g=o.value,b=g.selectionStart,v=g.selectionEnd;if(c.shiftKey||(u=void 0),c.keyCode===37||c.keyCode===39){c.shiftKey&&u===void 0&&(u=g.selectionDirection==="forward"?b:v);const C=I[(c.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(c.preventDefault(),C(g,u===b?v:b),c.shiftKey){const _=g.selectionStart;g.setSelectionRange(Math.min(u,_),Math.max(u,_),"forward")}}else c.keyCode===8&&e.reverseFillMask!==!0&&b===v?(I.left(g,b),g.setSelectionRange(g.selectionStart,v,"backward")):c.keyCode===46&&e.reverseFillMask===!0&&b===v&&(I.rightReverse(g,v),g.setSelectionRange(b,g.selectionEnd,"forward"))}function W(c){if(c==null||c==="")return"";if(e.reverseFillMask===!0)return O(c);const g=a;let b=0,v="";for(let C=0;C<g.length;C++){const _=c[b],P=g[C];if(typeof P=="string")v+=P,_===P&&b++;else if(_!==void 0&&P.regex.test(_))v+=P.transform!==void 0?P.transform(_):_,b++;else return v}return v}function O(c){const g=a,b=i.indexOf(G);let v=c.length-1,C="";for(let _=g.length-1;_>=0&&v>-1;_--){const P=g[_];let D=c[v];if(typeof P=="string")C=P+C,D===P&&v--;else if(D!==void 0&&P.regex.test(D))do C=(P.transform!==void 0?P.transform(D):D)+C,v--,D=c[v];while(b===_&&D!==void 0&&P.regex.test(D));else return C}return C}function M(c){return typeof c!="string"||l===void 0?typeof c=="number"?l(""+c):c:l(c)}function L(c){return r.length-c.length<=0?c:e.reverseFillMask===!0&&c.length!==0?r.slice(0,-c.length)+c:c+r.slice(c.length)}return{innerValue:d,hasMask:f,moveCursorForPaste:$,updateMaskValue:q,onMaskedKeydown:Y,onMaskedClick:Z}}const ri={name:String};function ai(e){return V(()=>e.name||e.for)}function li(e,t){function n(){const o=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(r=>{i.items.add(r)}),{files:i.files}}catch{return{files:void 0}}}return t===!0?V(()=>{if(e.type==="file")return n()}):V(n)}const si=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,ui=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,di=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,fi=/[a-z0-9_ -]$/i;function ci(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(jn.is.firefox===!0?fi.test(n.data)===!1:si.test(n.data)===!0||ui.test(n.data)===!0||di.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var hi=Qn({name:"QInput",inheritAttrs:!1,props:{...Qo,...oi,...ri,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Jo,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=ze(),{$q:i}=o,r={};let a=NaN,l,s,u=null,f;const d=ie(null),x=ai(e),{innerValue:S,hasMask:y,moveCursorForPaste:T,updateMaskValue:q,onMaskedKeydown:$,onMaskedClick:I}=ii(e,t,D,d),Z=li(e,!0),Y=V(()=>$t(S.value)),W=ci(_),O=ei(),M=V(()=>e.type==="textarea"||e.autogrow===!0),L=V(()=>M.value===!0||["text","search","url","tel","password"].includes(e.type)),c=V(()=>{const m={...O.splitAttrs.listeners.value,onInput:_,onPaste:C,onChange:A,onBlur:de,onFocus:Xt};return m.onCompositionstart=m.onCompositionupdate=m.onCompositionend=W,y.value===!0&&(m.onKeydown=$,m.onClick=I),e.autogrow===!0&&(m.onAnimationend=P),m}),g=V(()=>{const m={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:x.value,...O.splitAttrs.attributes.value,id:O.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return M.value===!1&&(m.type=e.type),e.autogrow===!0&&(m.rows=1),m});ae(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),ae(()=>e.modelValue,m=>{if(y.value===!0){if(s===!0&&(s=!1,String(m)===a))return;q(m)}else S.value!==m&&(S.value=m,e.type==="number"&&r.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete r.value));e.autogrow===!0&&Se(h)}),ae(()=>e.autogrow,m=>{m===!0?Se(h):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),ae(()=>e.dense,()=>{e.autogrow===!0&&Se(h)});function b(){In(()=>{const m=document.activeElement;d.value!==null&&d.value!==m&&(m===null||m.id!==O.targetUid.value)&&d.value.focus({preventScroll:!0})})}function v(){d.value!==null&&d.value.select()}function C(m){if(y.value===!0&&e.reverseFillMask!==!0){const z=m.target;T(z,z.selectionStart,z.selectionEnd)}t("paste",m)}function _(m){if(!m||!m.target)return;if(e.type==="file"){t("update:modelValue",m.target.files);return}const z=m.target.value;if(m.target.qComposing===!0){r.value=z;return}if(y.value===!0)q(z,!1,m.inputType);else if(D(z),L.value===!0&&m.target===document.activeElement){const{selectionStart:ve,selectionEnd:ce}=m.target;ve!==void 0&&ce!==void 0&&Se(()=>{m.target===document.activeElement&&z.indexOf(m.target.value)===0&&m.target.setSelectionRange(ve,ce)})}e.autogrow===!0&&h()}function P(m){t("animationend",m),h()}function D(m,z){f=()=>{u=null,e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==m&&a!==m&&(a=m,z===!0&&(s=!0),t("update:modelValue",m),Se(()=>{a===m&&(a=NaN)})),f=void 0},e.type==="number"&&(l=!0,r.value=m),e.debounce!==void 0?(u!==null&&clearTimeout(u),r.value=m,u=setTimeout(f,e.debounce)):f()}function h(){requestAnimationFrame(()=>{const m=d.value;if(m!==null){const z=m.parentNode.style,{scrollTop:ve}=m,{overflowY:ce,maxHeight:ne}=i.platform.is.firefox===!0?{}:window.getComputedStyle(m),Te=ce!==void 0&&ce!=="scroll";Te===!0&&(m.style.overflowY="hidden"),z.marginBottom=m.scrollHeight-1+"px",m.style.height="1px",m.style.height=m.scrollHeight+"px",Te===!0&&(m.style.overflowY=parseInt(ne,10)<m.scrollHeight?"auto":"hidden"),z.marginBottom="",m.scrollTop=ve}})}function A(m){W(m),u!==null&&(clearTimeout(u),u=null),f!==void 0&&f(),t("change",m.target.value)}function de(m){m!==void 0&&Xt(m),u!==null&&(clearTimeout(u),u=null),f!==void 0&&f(),l=!1,s=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=S.value!==void 0?S.value:"")})}function N(){return r.hasOwnProperty("value")===!0?r.value:S.value!==void 0?S.value:""}mt(()=>{de()}),gt(()=>{e.autogrow===!0&&h()}),Object.assign(O,{innerValue:S,fieldClass:V(()=>`q-${M.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:V(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:D,hasValue:Y,floatingLabel:V(()=>Y.value===!0&&(e.type!=="number"||isNaN(S.value)===!1)||$t(e.displayValue)),getControl:()=>B(M.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...g.value,...c.value,...e.type!=="file"?{value:N()}:Z.value}),getShadowControl:()=>B("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(M.value===!0?"":" text-no-wrap")},[B("span",{class:"invisible"},N()),B("span",e.shadowText)])});const X=ti(O);return Object.assign(o,{focus:b,select:v,getNativeElement:()=>d.value}),pn(o,"nativeEl",()=>d.value),X}});const gi={class:"row","fixed-bottom-right":""};function mi(e,t,n,o,i,r){const a=mn("draggable");return Ne(),zt(Jn,{class:"row items-center justify-evenly"},{default:Ut(()=>[We(a,{class:"dragArea list-group w-full",modelValue:e.steps,"onUpdate:modelValue":t[0]||(t[0]=l=>e.steps=l),onChange:e.onChange},{default:Ut(()=>[(Ne(!0),vt(Ht,null,Yn(e.steps,(l,s)=>(Ne(),vt("div",{class:"item",key:l.id},[l.editing?(Ne(),zt(hi,{key:0,class:"filled",autofocus:!0,modelValue:l.name,"onUpdate:modelValue":u=>l.name=u,dense:"",ref_for:!0,ref:`input-${l.id}`,onBlur:u=>e.finishEdit(l),onKeyup:zn(u=>e.finishEdit(l),["enter"])},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeyup"])):(Ne(),vt(Ht,{key:1},[Un(Hn(l.name),1),We(bt,{class:"small",onClick:u=>e.editStep(l),icon:"edit"},null,8,["onClick"])],64))]))),128))]),_:1},8,["modelValue","onChange"]),Xn("div",gi,[We(bt,{class:"q-ma-md",color:"green",onClick:e.addNewStep,icon:"add",label:"Add Step"},null,8,["onClick"]),We(bt,{class:"q-ma-md",color:"red",onClick:e.removeLastStep,icon:"add",label:"Remove Step"},null,8,["onClick"])])]),_:1})}const pi=gn({name:"EdiTor",components:{draggable:$o},setup(){const e=ie([{name:"Step1",id:0,editing:!1},{name:"Step2",id:1,editing:!1},{name:"Step3",id:2,editing:!1}]),t=Gn(),n=Kn(),o=()=>{const s="/edit/"+e.value.map(u=>encodeURIComponent(u.name.replace(/\s/g,"_"))).join("%20");n.push(s)},i=s=>{console.log("start edit!"),s.editing=!0,Se(()=>{const u=`input-${s.id}`,f=refs[u];f&&f.$el&&f.$el.focus()})},r=s=>{console.log("end edit!"),s.editing=!1,o()},a=()=>{const s=e.value.length?Math.max(...e.value.map(u=>u.id))+1:0;e.value.push({name:"step"+(e.value.length?Math.max(...e.value.map(u=>u.id))+2:1),id:s,editing:!1})},l=()=>{e.value.length>0&&(e.value.pop(),o())};return gt(()=>{if(t.params.steps){const s=t.params.steps.split(/%20|\s/);e.value=s.map((u,f)=>({id:f,name:u,editing:!1}))}}),{steps:e,editStep:i,finishEdit:r,addNewStep:a,removeLastStep:l,onChange:o}}});var Ei=Wn(pi,[["render",mi]]);export{Ei as default};
