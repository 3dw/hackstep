import{k as $,n as se,h as f,Z as G,r as x,c as h,E as le,g as N,a2 as ue,B as w,am as U,p as ce,an as W,ao as de,a3 as A,ap as E,a5 as j,A as V,aq as pe,a4 as D,w as X,q as ve,l as k,ar as Z,i as fe,t as L,as as J,x as me,y as he,K as ge,N as be,G as ye,_ as Se,d as _e,ak as Ce,o as qe,P as Q,Q as z,R,f as xe,a6 as Pe,a7 as we,F as ke,S as H,a8 as Te}from"./index.a875f4a0.js";import{Q as Ie,R as Ae,b as $e}from"./vm.519852f6.js";import{Q as Ne}from"./QPage.f89be799.js";import"./use-size.86a65703.js";var Be=$({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:r,emit:u}){let d=!1,a,t,n=null,i=null,m,y;function p(){a&&a(),a=null,d=!1,n!==null&&(clearTimeout(n),n=null),i!==null&&(clearTimeout(i),i=null),t!==void 0&&t.removeEventListener("transitionend",m),m=null}function g(s,o,c){o!==void 0&&(s.style.height=`${o}px`),s.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,d=!0,a=c}function v(s,o){s.style.overflowY=null,s.style.height=null,s.style.transition=null,p(),o!==y&&u(o)}function _(s,o){let c=0;t=s,d===!0?(p(),c=s.offsetHeight===s.scrollHeight?0:void 0):(y="hide",s.style.overflowY="hidden"),g(s,c,o),n=setTimeout(()=>{n=null,s.style.height=`${s.scrollHeight}px`,m=S=>{i=null,(Object(S)!==S||S.target===s)&&v(s,"show")},s.addEventListener("transitionend",m),i=setTimeout(m,e.duration*1.1)},100)}function C(s,o){let c;t=s,d===!0?p():(y="show",s.style.overflowY="hidden",c=s.scrollHeight),g(s,c,o),n=setTimeout(()=>{n=null,s.style.height=0,m=S=>{i=null,(Object(S)!==S||S.target===s)&&v(s,"hide")},s.addEventListener("transitionend",m),i=setTimeout(m,e.duration*1.1)},100)}return se(()=>{d===!0&&p()}),()=>f(G,{css:!1,appear:e.appear,onEnter:_,onLeave:C},r.default)}}),ee=$({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:r}){const{proxy:{$q:u}}=N(),d=x(null),a=h(()=>e.stepper.modelValue===e.step.name),t=h(()=>{const o=e.step.disable;return o===!0||o===""}),n=h(()=>{const o=e.step.error;return o===!0||o===""}),i=h(()=>{const o=e.step.done;return t.value===!1&&(o===!0||o==="")}),m=h(()=>{const o=e.step.headerNav,c=o===!0||o===""||o===void 0;return t.value===!1&&e.stepper.headerNav&&c}),y=h(()=>e.step.prefix&&(a.value===!1||e.stepper.activeIcon==="none")&&(n.value===!1||e.stepper.errorIcon==="none")&&(i.value===!1||e.stepper.doneIcon==="none")),p=h(()=>{const o=e.step.icon||e.stepper.inactiveIcon;if(a.value===!0){const c=e.step.activeIcon||e.stepper.activeIcon;return c==="none"?o:c||u.iconSet.stepper.active}if(n.value===!0){const c=e.step.errorIcon||e.stepper.errorIcon;return c==="none"?o:c||u.iconSet.stepper.error}if(t.value===!1&&i.value===!0){const c=e.step.doneIcon||e.stepper.doneIcon;return c==="none"?o:c||u.iconSet.stepper.done}return o}),g=h(()=>{const o=n.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(a.value===!0){const c=e.step.activeColor||e.stepper.activeColor||e.step.color;return c!==void 0?c:o}return o!==void 0?o:t.value===!1&&i.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),v=h(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(g.value!==void 0?` text-${g.value}`:"")+(n.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(y.value===!0?"prefix":"icon"):"")+(a.value===!0?" q-stepper__tab--active":"")+(i.value===!0?" q-stepper__tab--done":"")+(m.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),_=h(()=>e.stepper.headerNav!==!0?!1:m.value);function C(){d.value!==null&&d.value.focus(),a.value===!1&&e.goToPanel(e.step.name)}function s(o){o.keyCode===13&&a.value===!1&&e.goToPanel(e.step.name)}return()=>{const o={class:v.value};m.value===!0&&(o.onClick=C,o.onKeyup=s,Object.assign(o,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:r.tabindex||0}));const c=[f("div",{class:"q-focus-helper",tabindex:-1,ref:d}),f("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[f("span",{class:"row flex-center"},[y.value===!0?e.step.prefix:f(Ie,{name:p.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const S=[f("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&S.push(f("div",{class:"q-stepper__caption"},e.step.caption)),c.push(f("div",{class:"q-stepper__label q-stepper__line relative-position"},S))}return le(f("div",o,c),[[Ae,_.value]])}}});function Ee(e){const r=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((u,d)=>{const a=parseFloat(u);a&&(r[d]=a)}),r}var Ve=ue({name:"touch-swipe",beforeMount(e,{value:r,arg:u,modifiers:d}){if(d.mouse!==!0&&w.has.touch!==!0)return;const a=d.mouseCapture===!0?"Capture":"",t={handler:r,sensitivity:Ee(u),direction:U(d),noop:ce,mouseStart(n){W(n,t)&&de(n)&&(A(t,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(n,!0))},touchStart(n){if(W(n,t)){const i=n.target;A(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),t.start(n)}},start(n,i){w.is.firefox===!0&&E(e,!0);const m=j(n);t.event={x:m.left,y:m.top,time:Date.now(),mouse:i===!0,dir:!1}},move(n){if(t.event===void 0)return;if(t.event.dir!==!1){V(n);return}const i=Date.now()-t.event.time;if(i===0)return;const m=j(n),y=m.left-t.event.x,p=Math.abs(y),g=m.top-t.event.y,v=Math.abs(g);if(t.event.mouse!==!0){if(p<t.sensitivity[1]&&v<t.sensitivity[1]){t.end(n);return}}else if(window.getSelection().toString()!==""){t.end(n);return}else if(p<t.sensitivity[2]&&v<t.sensitivity[2])return;const _=p/i,C=v/i;t.direction.vertical===!0&&p<v&&p<100&&C>t.sensitivity[0]&&(t.event.dir=g<0?"up":"down"),t.direction.horizontal===!0&&p>v&&v<100&&_>t.sensitivity[0]&&(t.event.dir=y<0?"left":"right"),t.direction.up===!0&&p<v&&g<0&&p<100&&C>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&p<v&&g>0&&p<100&&C>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&p>v&&y<0&&v<100&&_>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&p>v&&y>0&&v<100&&_>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(V(n),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),pe(),t.styleCleanup=s=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const o=()=>{document.body.classList.remove("no-pointer-events--children")};s===!0?setTimeout(o,50):o()}),t.handler({evt:n,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:i,distance:{x:p,y:v}})):t.end(n)},end(n){t.event!==void 0&&(D(t,"temp"),w.is.firefox===!0&&E(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),n!==void 0&&t.event.dir!==!1&&V(n),t.event=void 0)}};if(e.__qtouchswipe=t,d.mouse===!0){const n=d.mouseCapture===!0||d.mousecapture===!0?"Capture":"";A(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}w.has.touch===!0&&A(t,"main",[[e,"touchstart","touchStart",`passive${d.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,r){const u=e.__qtouchswipe;u!==void 0&&(r.oldValue!==r.value&&(typeof r.value!="function"&&u.end(),u.handler=r.value),u.direction=U(r.modifiers))},beforeUnmount(e){const r=e.__qtouchswipe;r!==void 0&&(D(r,"main"),D(r,"temp"),w.is.firefox===!0&&E(e,!1),r.styleCleanup!==void 0&&r.styleCleanup(),delete e.__qtouchswipe)}});function te(){const e=new Map;return{getCache:function(r,u){return e[r]===void 0?e[r]=u:e[r]},getCacheWithFn:function(r,u){return e[r]===void 0?e[r]=u():e[r]}}}const De={name:{required:!0},disable:Boolean},Y={setup(e,{slots:r}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},k(r.default))}},Le={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qe=["update:modelValue","beforeTransition","transition"];function Re(){const{props:e,emit:r,proxy:u}=N(),{getCacheWithFn:d}=te();let a,t;const n=x(null),i=x(null);function m(l){const b=e.vertical===!0?"up":"left";P((u.$q.lang.rtl===!0?-1:1)*(l.direction===b?1:-1))}const y=h(()=>[[Ve,m,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=h(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),g=h(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),v=h(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=h(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=h(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),s=h(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);X(()=>e.modelValue,(l,b)=>{const q=T(l)===!0?B(l):-1;t!==!0&&F(q===-1?0:q<B(b)?-1:1),n.value!==q&&(n.value=q,r("beforeTransition",l,b),ve(()=>{r("transition",l,b)}))});function o(){P(1)}function c(){P(-1)}function S(l){r("update:modelValue",l)}function T(l){return l!=null&&l!==""}function B(l){return a.findIndex(b=>b.props.name===l&&b.props.disable!==""&&b.props.disable!==!0)}function re(){return a.filter(l=>l.props.disable!==""&&l.props.disable!==!0)}function F(l){const b=l!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(l===-1?p.value:g.value):null;i.value!==b&&(i.value=b)}function P(l,b=n.value){let q=b+l;for(;q>-1&&q<a.length;){const I=a[q];if(I!==void 0&&I.props.disable!==""&&I.props.disable!==!0){F(l),t=!0,r("update:modelValue",I.props.name),setTimeout(()=>{t=!1});return}q+=l}e.infinite===!0&&a.length!==0&&b!==-1&&b!==a.length&&P(l,l===-1?a.length:-1)}function K(){const l=B(e.modelValue);return n.value!==l&&(n.value=l),!0}function M(){const l=T(e.modelValue)===!0&&K()&&a[n.value];return e.keepAlive===!0?[f(Z,C.value,[f(s.value===!0?d(_.value,()=>({...Y,name:_.value})):Y,{key:_.value,style:v.value},()=>l)])]:[f("div",{class:"q-panel scroll",style:v.value,key:_.value,role:"tabpanel"},[l])]}function ae(){if(a.length!==0)return e.animated===!0?[f(G,{name:i.value},M)]:M()}function oe(l){return a=$e(k(l.default,[])).filter(b=>b.props!==null&&b.props.slot===void 0&&T(b.props.name)===!0),a.length}function ie(){return a}return Object.assign(u,{next:o,previous:c,goTo:S}),{panelIndex:n,panelDirectives:y,updatePanelsList:oe,updatePanelIndex:K,getPanelContent:ae,getEnabledPanels:re,getPanels:ie,isValidPanelName:T,keepAliveProps:C,needsUniqueKeepAliveWrapper:s,goToPanelByOffset:P,goToPanel:S,nextPanel:o,previousPanel:c}}function ne(e){return f("div",{class:"q-stepper__step-content"},[f("div",{class:"q-stepper__step-inner"},k(e.default))])}const O={setup(e,{slots:r}){return()=>ne(r)}};var Fe=$({name:"QStep",props:{...De,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:r,emit:u}){const{proxy:{$q:d}}=N(),a=fe(J,L);if(a===L)return console.error("QStep needs to be a child of QStepper"),L;const{getCacheWithFn:t}=te(),n=x(null),i=h(()=>a.value.modelValue===e.name),m=h(()=>d.platform.is.ios!==!0&&d.platform.is.chrome===!0||i.value!==!0||a.value.vertical!==!0?{}:{onScroll(g){const{target:v}=g;v.scrollTop>0&&(v.scrollTop=0),e.onScroll!==void 0&&u("scroll",g)}}),y=h(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function p(){const g=a.value.vertical;return g===!0&&a.value.keepAlive===!0?f(Z,a.value.keepAliveProps.value,i.value===!0?[f(a.value.needsUniqueKeepAliveWrapper.value===!0?t(y.value,()=>({...O,name:y.value})):O,{key:y.value},r.default)]:void 0):g!==!0||i.value===!0?ne(r):void 0}return()=>f("div",{ref:n,class:"q-stepper__step",role:"tabpanel",...m.value},a.value.vertical===!0?[f(ee,{stepper:a.value,step:e,goToPanel:a.value.goToPanel}),a.value.animated===!0?f(Be,p):p()]:[p()])}});const Ke=/(-\w)/g;function Me(e){const r={};for(const u in e){const d=u.replace(Ke,a=>a[1].toUpperCase());r[d]=e[u]}return r}var Ue=$({name:"QStepper",props:{...me,...Le,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Qe,setup(e,{slots:r}){const u=N(),d=he(e,u.proxy.$q),{updatePanelsList:a,isValidPanelName:t,updatePanelIndex:n,getPanelContent:i,getPanels:m,panelDirectives:y,goToPanel:p,keepAliveProps:g,needsUniqueKeepAliveWrapper:v}=Re();ge(J,h(()=>({goToPanel:p,keepAliveProps:g,needsUniqueKeepAliveWrapper:v,...e})));const _=h(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(d.value===!0?" q-stepper--dark q-dark":"")),C=h(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function s(){const o=k(r.message,[]);if(e.vertical===!0){t(e.modelValue)&&n();const c=f("div",{class:"q-stepper__content"},k(r.default));return o===void 0?[c]:o.concat(c)}return[f("div",{class:C.value},m().map(c=>{const S=Me(c.props);return f(ee,{key:S.name,stepper:e,step:S,goToPanel:p})})),o,ye("div",{class:"q-stepper__content q-panel-parent"},i(),"cont",e.swipeable,()=>y.value)]}return()=>(a(r),f("div",{class:_.value},be(r.navigation,s())))}});const We=_e({name:"StepsViewer",setup(){const e=x(1),r=x([{name:"Step1",id:1},{name:"Step2",id:2},{name:"Step3",id:3}]),u=Ce();return qe(()=>{if(u.params.steps){const a=u.params.steps.split(/%20|\s/);r.value=a.map((t,n)=>({id:n+1,name:decodeURIComponent(t.replace(/_/g," "))}))}}),X(()=>u.params.steps,a=>{if(a){const t=a.split(/%20|\s/);r.value=t.map((n,i)=>({id:i,name:n,editing:!1}))}}),{step:e,steps:r,openInNewTab:a=>{const t=`https://www.google.com/search?q=${encodeURIComponent(a)}`;window.open(t,"_blank")}}}}),je={class:"q-pa-md",style:{height:"100%",width:"100%"}},ze={style:{"text-decoration":"underline",cursor:"pointer"}};function He(e,r,u,d,a,t){return Q(),z(Ne,{class:"flex flex-center"},{default:R(()=>[xe(Ue,{modelValue:e.step,"onUpdate:modelValue":r[0]||(r[0]=n=>e.step=n),vertical:"",color:"primary"},{default:R(()=>[(Q(!0),Pe(ke,null,we(e.steps,n=>(Q(),z(Fe,{style:{"min-width":"320px"},name:n.id.toString(),key:n.id,title:`\u5728Google\u4E0A\u641C\u8A62${n.name}`,icon:"search",clickable:"",onClick:i=>e.openInNewTab(n.name)},{default:R(()=>[H("div",je,[H("div",ze,' Click here to search "'+Te(n.name)+'" on Google ',1)])]),_:2},1032,["name","title","onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})}var Ze=Se(We,[["render",He]]);export{Ze as default};
