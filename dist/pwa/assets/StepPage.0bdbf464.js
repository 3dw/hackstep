import{d as vn,h as q,O as bn,i as Rn,w as re,o as bt,n as yt,ad as Nn,g as We,r as ne,c as $,ae as Vn,af as yn,ag as Bn,A as qn,q as _e,D as $n,ah as Ln,m as jn,a6 as Ne,x as zn,y as Yn,l as Qe,a5 as Un,ai as Xn,B as Hn,k as Wn,aj as Gn,ak as Kn,a7 as Gt,P as Ve,Q as Kt,R as Be,f as Ie,U as _t,Z as Zn,F as Qn,V as Ge,_ as Je,al as Jn,$ as eo,a0 as St,a1 as to,a2 as no,a3 as oo,am as io,an as ro,a4 as ao}from"./index.57fbb41b.js";import{Q as Zt}from"./vm.35aed914.js";import{Q as lo}from"./QSpinner.c184656b.js";import{Q as qe}from"./QBtn.64a7b6c6.js";import{Q as so}from"./QPage.6b390dd3.js";import"./use-size.5f7f577e.js";/*!
  * vue-draggable-next v2.2.0
  * (c) 2023 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qt(Object(n),!0).forEach(function(o){uo(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function lt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(t){return typeof t}:lt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(e)}function uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye.apply(this,arguments)}function fo(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function co(e,t){if(e==null)return{};var n=fo(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}var ho="1.14.0";function be(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var we=be(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ke=be(/Edge/i),Jt=be(/firefox/i),ze=be(/safari/i)&&!be(/chrome/i)&&!be(/android/i),wn=be(/iP(ad|od|hone)/i),go=be(/chrome/i)&&be(/android/i),En={capture:!1,passive:!1};function V(e,t,n){e.addEventListener(t,n,!we&&En)}function P(e,t,n){e.removeEventListener(t,n,!we&&En)}function ct(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function mo(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&ct(e,t):ct(e,t))||o&&e===n)return e;if(e===n)break}while(e=mo(e))}return null}var en=/\s+/g;function le(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(en," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(en," ")}}function _(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function Pe(e,t){var n="";if(typeof e=="string")n=e;else do{var o=_(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function _n(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function me(){var e=document.scrollingElement;return e||document.documentElement}function Q(e,t,n,o,i){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,l,s,u,c,d;if(e!==window&&e.parentNode&&e!==me()?(r=e.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,u=r.right,c=r.height,d=r.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!we))do if(i&&i.getBoundingClientRect&&(_(i,"transform")!=="none"||n&&_(i,"position")!=="static")){var C=i.getBoundingClientRect();a-=C.top+parseInt(_(i,"border-top-width")),l-=C.left+parseInt(_(i,"border-left-width")),s=a+r.height,u=l+r.width;break}while(i=i.parentNode);if(o&&e!==window){var E=Pe(i||e),w=E&&E.a,b=E&&E.d;E&&(a/=b,l/=w,d/=w,c/=b,s=a+c,u=l+d)}return{top:a,left:l,bottom:s,right:u,width:d,height:c}}}function tn(e,t,n){for(var o=Ce(e,!0),i=Q(e)[t];o;){var r=Q(o)[n],a=void 0;if(n==="top"||n==="left"?a=i>=r:a=i<=r,!a)return o;if(o===me())break;o=Ce(o,!1)}return!1}function Re(e,t,n,o){for(var i=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==S.ghost&&(o||a[r]!==S.dragged)&&ge(a[r],n.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function Xt(e,t){for(var n=e.lastElementChild;n&&(n===S.ghost||_(n,"display")==="none"||t&&!ct(n,t));)n=n.previousElementSibling;return n||null}function fe(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==S.clone&&(!t||ct(e,t))&&n++;return n}function nn(e){var t=0,n=0,o=me();if(e)do{var i=Pe(e),r=i.a,a=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function po(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function Ce(e,t){if(!e||!e.getBoundingClientRect)return me();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=_(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return me();if(o||t)return n;o=!0}}while(n=n.parentNode);return me()}function vo(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ct(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Ye;function Sn(e,t){return function(){if(!Ye){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Ye=setTimeout(function(){Ye=void 0},t)}}}function bo(){clearTimeout(Ye),Ye=void 0}function Cn(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function xn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ue="Sortable"+new Date().getTime();function yo(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(_(i,"display")==="none"||i===S.ghost)){e.push({target:i,rect:Q(i)});var r=pe({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=Pe(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(po(e,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var r=!1,a=0;e.forEach(function(l){var s=0,u=l.target,c=u.fromRect,d=Q(u),C=u.prevFromRect,E=u.prevToRect,w=l.rect,b=Pe(u,!0);b&&(d.top-=b.f,d.left-=b.e),u.toRect=d,u.thisAnimationDuration&&Ct(C,d)&&!Ct(c,d)&&(w.top-d.top)/(w.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(s=Eo(w,C,E,i.options)),Ct(d,c)||(u.prevFromRect=c,u.prevToRect=d,s||(s=i.options.animation),i.animate(u,w,d,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),r?t=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),e=[]},animate:function(o,i,r,a){if(a){_(o,"transition",""),_(o,"transform","");var l=Pe(this.el),s=l&&l.a,u=l&&l.d,c=(i.left-r.left)/(s||1),d=(i.top-r.top)/(u||1);o.animatingX=!!c,o.animatingY=!!d,_(o,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=wo(o),_(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),_(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){_(o,"transition",""),_(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function wo(e){return e.offsetWidth}function Eo(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var Ae=[],xt={initializeByDefault:!0},Ze={mount:function(t){for(var n in xt)xt.hasOwnProperty(n)&&!(n in t)&&(t[n]=xt[n]);Ae.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ae.push(t)},pluginEvent:function(t,n,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=t+"Global";Ae.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][r]&&n[a.pluginName][r](pe({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](pe({sortable:n},o)))})},initializePlugins:function(t,n,o,i){Ae.forEach(function(l){var s=l.pluginName;if(!(!t.options[s]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,ye(o,u.defaults)}});for(var r in t.options)if(!!t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a!="undefined"&&(t.options[r]=a)}},getEventProperties:function(t,n){var o={};return Ae.forEach(function(i){typeof i.eventProperties=="function"&&ye(o,i.eventProperties.call(n[i.pluginName],t))}),o},modifyOption:function(t,n,o){var i;return Ae.forEach(function(r){!t[r.pluginName]||r.optionListeners&&typeof r.optionListeners[n]=="function"&&(i=r.optionListeners[n].call(t[r.pluginName],o))}),i}};function _o(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,r=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,C=e.originalEvent,E=e.putSortable,w=e.extraEventProperties;if(t=t||n&&n[ue],!!t){var b,k=t.options,N="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!we&&!Ke?b=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(o,!0,!0)),b.to=a||n,b.from=l||n,b.item=i||n,b.clone=r,b.oldIndex=s,b.newIndex=u,b.oldDraggableIndex=c,b.newDraggableIndex=d,b.originalEvent=C,b.pullMode=E?E.lastPutMode:void 0;var A=pe(pe({},w),Ze.getEventProperties(o,t));for(var z in A)b[z]=A[z];n&&n.dispatchEvent(b),k[N]&&k[N].call(t,b)}}var So=["evt"],ae=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=co(o,So);Ze.pluginEvent.bind(S)(t,n,pe({dragEl:p,parentEl:H,ghostEl:I,rootEl:j,nextEl:ke,lastDownEl:st,cloneEl:W,cloneHidden:Se,dragStarted:$e,putSortable:ee,activeSortable:S.active,originalEvent:i,oldIndex:Fe,oldDraggableIndex:Ue,newIndex:se,newDraggableIndex:Ee,hideGhostForTarget:In,unhideGhostForTarget:An,cloneNowHidden:function(){Se=!0},cloneNowShown:function(){Se=!1},dispatchSortableEvent:function(l){ie({sortable:n,name:l,originalEvent:i})}},r))};function ie(e){_o(pe({putSortable:ee,cloneEl:W,targetEl:p,rootEl:j,oldIndex:Fe,oldDraggableIndex:Ue,newIndex:se,newDraggableIndex:Ee},e))}var p,H,I,j,ke,st,W,Se,Fe,se,Ue,Ee,et,ee,Oe=!1,ht=!1,gt=[],xe,he,Dt,kt,on,rn,$e,Me,Xe,He=!1,tt=!1,ut,te,Tt=[],Vt=!1,mt=[],wt=typeof document!="undefined",nt=wn,an=Ke||we?"cssFloat":"float",Co=wt&&!go&&!wn&&"draggable"in document.createElement("div"),Dn=function(){if(!!wt){if(we)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),kn=function(t,n){var o=_(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Re(t,0,n),a=Re(t,1,n),l=r&&_(r),s=a&&_(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Q(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Q(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===d)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&o[an]==="none"||a&&o[an]==="none"&&u+c>i)?"vertical":"horizontal"},xo=function(t,n,o){var i=o?t.left:t.top,r=o?t.right:t.bottom,a=o?t.width:t.height,l=o?n.left:n.top,s=o?n.right:n.bottom,u=o?n.width:n.height;return i===l||r===s||i+a/2===l+u/2},Do=function(t,n){var o;return gt.some(function(i){var r=i[ue].options.emptyInsertThreshold;if(!(!r||Xt(i))){var a=Q(i),l=t>=a.left-r&&t<=a.right+r,s=n>=a.top-r&&n<=a.bottom+r;if(l&&s)return o=i}}),o},Tn=function(t){function n(r,a){return function(l,s,u,c){var d=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(a||d))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(l,s,u,c),a)(l,s,u,c);var C=(a?l:s).options.group.name;return r===!0||typeof r=="string"&&r===C||r.join&&r.indexOf(C)>-1}}var o={},i=t.group;(!i||lt(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,t.group=o},In=function(){!Dn&&I&&_(I,"display","none")},An=function(){!Dn&&I&&_(I,"display","")};wt&&document.addEventListener("click",function(e){if(ht)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ht=!1,!1},!0);var De=function(t){if(p){t=t.touches?t.touches[0]:t;var n=Do(t.clientX,t.clientY);if(n){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[ue]._onDragOver(o)}}},ko=function(t){p&&p.parentNode[ue]._isOutsideThisEl(t.target)};function S(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ye({},t),e[ue]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:S.supportPointer!==!1&&"PointerEvent"in window&&!ze,emptyInsertThreshold:5};Ze.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Tn(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Co,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?V(e,"pointerdown",this._onTapStart):(V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),gt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ye(this,yo())}S.prototype={constructor:S,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Me=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,p):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,i=this.options,r=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(Ro(o),!p&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ze&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ge(s,i.draggable,o,!1),!(s&&s.animated)&&st!==s)){if(Fe=fe(s),Ue=fe(s,i.draggable),typeof c=="function"){if(c.call(this,t,s,this)){ie({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:o,fromEl:o}),ae("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=ge(u,d.trim(),o,!1),d)return ie({sortable:n,rootEl:d,name:"filter",targetEl:s,fromEl:o,toEl:o}),ae("filter",n,{evt:t}),!0}),c)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!ge(u,i.handle,o,!1)||this._prepareDragStart(t,l,s)}}},_prepareDragStart:function(t,n,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument,s;if(o&&!p&&o.parentNode===r){var u=Q(o);if(j=r,p=o,H=p.parentNode,ke=p.nextSibling,st=o,et=a.group,S.dragged=p,xe={target:p,clientX:(n||t).clientX,clientY:(n||t).clientY},on=xe.clientX-u.left,rn=xe.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,p.style["will-change"]="all",s=function(){if(ae("delayEnded",i,{evt:t}),S.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Jt&&i.nativeDraggable&&(p.draggable=!0),i._triggerDragStart(t,n),ie({sortable:i,name:"choose",originalEvent:t}),le(p,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){_n(p,c.trim(),It)}),V(l,"dragover",De),V(l,"mousemove",De),V(l,"touchmove",De),V(l,"mouseup",i._onDrop),V(l,"touchend",i._onDrop),V(l,"touchcancel",i._onDrop),Jt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,p.draggable=!0),ae("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ke||we))){if(S.eventCanceled){this._onDrop();return}V(l,"mouseup",i._disableDelayedDrag),V(l,"touchend",i._disableDelayedDrag),V(l,"touchcancel",i._disableDelayedDrag),V(l,"mousemove",i._delayedDragTouchMoveHandler),V(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&V(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){p&&It(p),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._disableDelayedDrag),P(t,"touchend",this._disableDelayedDrag),P(t,"touchcancel",this._disableDelayedDrag),P(t,"mousemove",this._delayedDragTouchMoveHandler),P(t,"touchmove",this._delayedDragTouchMoveHandler),P(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?V(document,"pointermove",this._onTouchMove):n?V(document,"touchmove",this._onTouchMove):V(document,"mousemove",this._onTouchMove):(V(p,"dragend",this),V(j,"dragstart",this._onDragStart));try{document.selection?dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Oe=!1,j&&p){ae("dragStarted",this,{evt:n}),this.nativeDraggable&&V(document,"dragover",ko);var o=this.options;!t&&le(p,o.dragClass,!1),le(p,o.ghostClass,!0),S.active=this,t&&this._appendGhost(),ie({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(he){this._lastX=he.clientX,this._lastY=he.clientY,In();for(var t=document.elementFromPoint(he.clientX,he.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(he.clientX,he.clientY),t!==n);)n=t;if(p.parentNode[ue]._isOutsideThisEl(t),n)do{if(n[ue]){var o=void 0;if(o=n[ue]._onDragOver({clientX:he.clientX,clientY:he.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);An()}},_onTouchMove:function(t){if(xe){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,r=t.touches?t.touches[0]:t,a=I&&Pe(I,!0),l=I&&a&&a.a,s=I&&a&&a.d,u=nt&&te&&nn(te),c=(r.clientX-xe.clientX+i.x)/(l||1)+(u?u[0]-Tt[0]:0)/(l||1),d=(r.clientY-xe.clientY+i.y)/(s||1)+(u?u[1]-Tt[1]:0)/(s||1);if(!S.active&&!Oe){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(I){a?(a.e+=c-(Dt||0),a.f+=d-(kt||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var C="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");_(I,"webkitTransform",C),_(I,"mozTransform",C),_(I,"msTransform",C),_(I,"transform",C),Dt=c,kt=d,he=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!I){var t=this.options.fallbackOnBody?document.body:j,n=Q(p,!0,nt,!0,t),o=this.options;if(nt){for(te=t;_(te,"position")==="static"&&_(te,"transform")==="none"&&te!==document;)te=te.parentNode;te!==document.body&&te!==document.documentElement?(te===document&&(te=me()),n.top+=te.scrollTop,n.left+=te.scrollLeft):te=me(),Tt=nn(te)}I=p.cloneNode(!0),le(I,o.ghostClass,!1),le(I,o.fallbackClass,!0),le(I,o.dragClass,!0),_(I,"transition",""),_(I,"transform",""),_(I,"box-sizing","border-box"),_(I,"margin",0),_(I,"top",n.top),_(I,"left",n.left),_(I,"width",n.width),_(I,"height",n.height),_(I,"opacity","0.8"),_(I,"position",nt?"absolute":"fixed"),_(I,"zIndex","100000"),_(I,"pointerEvents","none"),S.ghost=I,t.appendChild(I),_(I,"transform-origin",on/parseInt(I.style.width)*100+"% "+rn/parseInt(I.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,i=t.dataTransfer,r=o.options;if(ae("dragStart",this,{evt:t}),S.eventCanceled){this._onDrop();return}ae("setupClone",this),S.eventCanceled||(W=xn(p),W.draggable=!1,W.style["will-change"]="",this._hideClone(),le(W,this.options.chosenClass,!1),S.clone=W),o.cloneId=dt(function(){ae("clone",o),!S.eventCanceled&&(o.options.removeCloneOnHide||j.insertBefore(W,p),o._hideClone(),ie({sortable:o,name:"clone"}))}),!n&&le(p,r.dragClass,!0),n?(ht=!0,o._loopId=setInterval(o._emulateDragOver,50)):(P(document,"mouseup",o._onDrop),P(document,"touchend",o._onDrop),P(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,p)),V(document,"drop",o),_(p,"transform","translateZ(0)")),Oe=!0,o._dragStartId=dt(o._dragStarted.bind(o,n,t)),V(document,"selectstart",o),$e=!0,ze&&_(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,i,r,a,l=this.options,s=l.group,u=S.active,c=et===s,d=l.sort,C=ee||u,E,w=this,b=!1;if(Vt)return;function k(M,de){ae(M,w,pe({evt:t,isOwner:c,axis:E?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:d,fromSortable:C,target:o,completed:A,onMove:function(U,m){return ot(j,n,p,i,U,Q(U),t,m)},changed:z},de))}function N(){k("dragOverAnimationCapture"),w.captureAnimationState(),w!==C&&C.captureAnimationState()}function A(M){return k("dragOverCompleted",{insertion:M}),M&&(c?u._hideClone():u._showClone(w),w!==C&&(le(p,ee?ee.options.ghostClass:u.options.ghostClass,!1),le(p,l.ghostClass,!0)),ee!==w&&w!==S.active?ee=w:w===S.active&&ee&&(ee=null),C===w&&(w._ignoreWhileAnimating=o),w.animateAll(function(){k("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==C&&(C.animateAll(),C._ignoreWhileAnimating=null)),(o===p&&!p.animated||o===n&&!o.animated)&&(Me=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(p.parentNode[ue]._isOutsideThisEl(t.target),!M&&De(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function z(){se=fe(p),Ee=fe(p,l.draggable),ie({sortable:w,name:"change",toEl:n,newIndex:se,newDraggableIndex:Ee,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=ge(o,l.draggable,n,!0),k("dragOver"),S.eventCanceled)return b;if(p.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||w._ignoreWhileAnimating===o)return A(!1);if(ht=!1,u&&!l.disabled&&(c?d||(a=H!==j):ee===this||(this.lastPutMode=et.checkPull(this,u,p,t))&&s.checkPut(this,u,p,t))){if(E=this._getDirection(t,o)==="vertical",i=Q(p),k("dragOverValid"),S.eventCanceled)return b;if(a)return H=j,N(),this._hideClone(),k("revert"),S.eventCanceled||(ke?j.insertBefore(p,ke):j.appendChild(p)),A(!0);var Y=Xt(n,l.draggable);if(!Y||Mo(t,E,this)&&!Y.animated){if(Y===p)return A(!1);if(Y&&n===t.target&&(o=Y),o&&(r=Q(o)),ot(j,n,p,i,o,r,t,!!o)!==!1)return N(),n.appendChild(p),H=n,z(),A(!0)}else if(Y&&Ao(t,E,this)){var G=Re(n,0,l,!0);if(G===p)return A(!1);if(o=G,r=Q(o),ot(j,n,p,i,o,r,t,!1)!==!1)return N(),n.insertBefore(p,G),H=n,z(),A(!0)}else if(o.parentNode===n){r=Q(o);var O=0,F,L=p.parentNode!==n,f=!xo(p.animated&&p.toRect||i,o.animated&&o.toRect||r,E),g=E?"top":"left",y=tn(o,"top","top")||tn(p,"top","top"),v=y?y.scrollTop:void 0;Me!==o&&(F=r[g],He=!1,tt=!f&&l.invertSwap||L),O=Oo(t,o,r,E,f?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,tt,Me===o);var x;if(O!==0){var D=fe(p);do D-=O,x=H.children[D];while(x&&(_(x,"display")==="none"||x===I))}if(O===0||x===o)return A(!1);Me=o,Xe=O;var R=o.nextElementSibling,T=!1;T=O===1;var h=ot(j,n,p,i,o,r,t,T);if(h!==!1)return(h===1||h===-1)&&(T=h===1),Vt=!0,setTimeout(Io,30),N(),T&&!R?n.appendChild(p):o.parentNode.insertBefore(p,T?R:o),y&&Cn(y,0,v-y.scrollTop),H=p.parentNode,F!==void 0&&!tt&&(ut=Math.abs(F-Q(o)[g])),z(),A(!0)}if(n.contains(p))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",De),P(document,"mousemove",De),P(document,"touchmove",De)},_offUpEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._onDrop),P(t,"touchend",this._onDrop),P(t,"pointerup",this._onDrop),P(t,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if(se=fe(p),Ee=fe(p,o.draggable),ae("drop",this,{evt:t}),H=p&&p.parentNode,se=fe(p),Ee=fe(p,o.draggable),S.eventCanceled){this._nulling();return}Oe=!1,tt=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Bt(this.cloneId),Bt(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ze&&_(document.body,"user-select",""),_(p,"transform",""),t&&($e&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),I&&I.parentNode&&I.parentNode.removeChild(I),(j===H||ee&&ee.lastPutMode!=="clone")&&W&&W.parentNode&&W.parentNode.removeChild(W),p&&(this.nativeDraggable&&P(p,"dragend",this),It(p),p.style["will-change"]="",$e&&!Oe&&le(p,ee?ee.options.ghostClass:this.options.ghostClass,!1),le(p,this.options.chosenClass,!1),ie({sortable:this,name:"unchoose",toEl:H,newIndex:null,newDraggableIndex:null,originalEvent:t}),j!==H?(se>=0&&(ie({rootEl:H,name:"add",toEl:H,fromEl:j,originalEvent:t}),ie({sortable:this,name:"remove",toEl:H,originalEvent:t}),ie({rootEl:H,name:"sort",toEl:H,fromEl:j,originalEvent:t}),ie({sortable:this,name:"sort",toEl:H,originalEvent:t})),ee&&ee.save()):se!==Fe&&se>=0&&(ie({sortable:this,name:"update",toEl:H,originalEvent:t}),ie({sortable:this,name:"sort",toEl:H,originalEvent:t})),S.active&&((se==null||se===-1)&&(se=Fe,Ee=Ue),ie({sortable:this,name:"end",toEl:H,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){ae("nulling",this),j=p=H=I=ke=W=st=Se=xe=he=$e=se=Ee=Fe=Ue=Me=Xe=ee=et=S.dragged=S.ghost=S.clone=S.active=null,mt.forEach(function(t){t.checked=!0}),mt.length=Dt=kt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":p&&(this._onDragOver(t),To(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)n=o[i],ge(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||Po(n));return t},sort:function(t,n){var o={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];ge(l,this.options.draggable,i,!1)&&(o[r]=l)},this),n&&this.captureAnimationState(),t.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ge(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var i=Ze.modifyOption(this,t,n);typeof i!="undefined"?o[t]=i:o[t]=n,t==="group"&&Tn(o)},destroy:function(){ae("destroy",this);var t=this.el;t[ue]=null,P(t,"mousedown",this._onTapStart),P(t,"touchstart",this._onTapStart),P(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(t,"dragover",this),P(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),gt.splice(gt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Se){if(ae("hideClone",this),S.eventCanceled)return;_(W,"display","none"),this.options.removeCloneOnHide&&W.parentNode&&W.parentNode.removeChild(W),Se=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Se){if(ae("showClone",this),S.eventCanceled)return;p.parentNode==j&&!this.options.group.revertClone?j.insertBefore(W,p):ke?j.insertBefore(W,ke):j.appendChild(W),this.options.group.revertClone&&this.animate(p,W),_(W,"display",""),Se=!1}}};function To(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function ot(e,t,n,o,i,r,a,l){var s,u=e[ue],c=u.options.onMove,d;return window.CustomEvent&&!we&&!Ke?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=r||Q(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),c&&(d=c.call(u,s,a)),d}function It(e){e.draggable=!1}function Io(){Vt=!1}function Ao(e,t,n){var o=Q(Re(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function Mo(e,t,n){var o=Q(Xt(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function Oo(e,t,n,o,i,r,a,l){var s=o?e.clientY:e.clientX,u=o?n.height:n.width,c=o?n.top:n.left,d=o?n.bottom:n.right,C=!1;if(!a){if(l&&ut<u*i){if(!He&&(Xe===1?s>c+u*r/2:s<d-u*r/2)&&(He=!0),He)C=!0;else if(Xe===1?s<c+ut:s>d-ut)return-Xe}else if(s>c+u*(1-i)/2&&s<d-u*(1-i)/2)return Fo(t)}return C=C||a,C&&(s<c+u*r/2||s>d-u*r/2)?s>c+u/2?1:-1:0}function Fo(e){return fe(p)<fe(e)?1:-1}function Po(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Ro(e){mt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&mt.push(o)}}function dt(e){return setTimeout(e,0)}function Bt(e){return clearTimeout(e)}wt&&V(document,"touchmove",function(e){(S.active||Oe)&&e.cancelable&&e.preventDefault()});S.utils={on:V,off:P,css:_,find:_n,is:function(t,n){return!!ge(t,n,t,!1)},extend:vo,throttle:Sn,closest:ge,toggleClass:le,clone:xn,index:fe,nextTick:dt,cancelNextTick:Bt,detectDirection:kn,getChild:Re};S.get=function(e){return e[ue]};S.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(S.utils=pe(pe({},S.utils),o.utils)),Ze.mount(o)})};S.create=function(e,t){return new S(e,t)};S.version=ho;var Z=[],Le,qt,$t=!1,At,Mt,pt,je;function No(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):this.options.supportPointer?V(document,"pointermove",this._handleFallbackAutoScroll):o.touches?V(document,"touchmove",this._handleFallbackAutoScroll):V(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),ln(),ft(),bo()},nulling:function(){pt=qt=Le=$t=je=At=Mt=null,Z.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var i=this,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(r,a);if(pt=n,o||this.options.forceAutoScrollFallback||Ke||we||ze){Ot(n,this.options,l,o);var s=Ce(l,!0);$t&&(!je||r!==At||a!==Mt)&&(je&&ln(),je=setInterval(function(){var u=Ce(document.elementFromPoint(r,a),!0);u!==s&&(s=u,ft()),Ot(n,i.options,u,o)},10),At=r,Mt=a)}else{if(!this.options.bubbleScroll||Ce(l,!0)===me()){ft();return}Ot(n,this.options,Ce(l,!1),!1)}}},ye(e,{pluginName:"scroll",initializeByDefault:!0})}function ft(){Z.forEach(function(e){clearInterval(e.pid)}),Z=[]}function ln(){clearInterval(je)}var Ot=Sn(function(e,t,n,o){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,s=me(),u=!1,c;qt!==n&&(qt=n,ft(),Le=t.scroll,c=t.scrollFn,Le===!0&&(Le=Ce(n,!0)));var d=0,C=Le;do{var E=C,w=Q(E),b=w.top,k=w.bottom,N=w.left,A=w.right,z=w.width,Y=w.height,G=void 0,O=void 0,F=E.scrollWidth,L=E.scrollHeight,f=_(E),g=E.scrollLeft,y=E.scrollTop;E===s?(G=z<F&&(f.overflowX==="auto"||f.overflowX==="scroll"||f.overflowX==="visible"),O=Y<L&&(f.overflowY==="auto"||f.overflowY==="scroll"||f.overflowY==="visible")):(G=z<F&&(f.overflowX==="auto"||f.overflowX==="scroll"),O=Y<L&&(f.overflowY==="auto"||f.overflowY==="scroll"));var v=G&&(Math.abs(A-i)<=a&&g+z<F)-(Math.abs(N-i)<=a&&!!g),x=O&&(Math.abs(k-r)<=a&&y+Y<L)-(Math.abs(b-r)<=a&&!!y);if(!Z[d])for(var D=0;D<=d;D++)Z[D]||(Z[D]={});(Z[d].vx!=v||Z[d].vy!=x||Z[d].el!==E)&&(Z[d].el=E,Z[d].vx=v,Z[d].vy=x,clearInterval(Z[d].pid),(v!=0||x!=0)&&(u=!0,Z[d].pid=setInterval(function(){o&&this.layer===0&&S.active._onTouchMove(pt);var R=Z[this.layer].vy?Z[this.layer].vy*l:0,T=Z[this.layer].vx?Z[this.layer].vx*l:0;typeof c=="function"&&c.call(S.dragged.parentNode[ue],T,R,e,pt,Z[this.layer].el)!=="continue"||Cn(Z[this.layer].el,T,R)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&C!==s&&(C=Ce(C,!1)));$t=u}},30),Mn=function(t){var n=t.originalEvent,o=t.putSortable,i=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(!!n){var u=o||r;l();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);s(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function Ht(){}Ht.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Re(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:Mn};ye(Ht,{pluginName:"revertOnSpill"});function Wt(){}Wt.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,i=o||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Mn};ye(Wt,{pluginName:"removeOnSpill"});S.mount(new No);S.mount(Wt,Ht);function Vo(){return typeof window!="undefined"?window.console:global.console}const Bo=Vo();function qo(e){const t=Object.create(null);return function(o){return t[o]||(t[o]=e(o))}}const $o=/-(\w)/g,sn=qo(e=>e.replace($o,(t,n)=>n?n.toUpperCase():""));function Ft(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function un(e,t,n){const o=n===0?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function Lo(e,t){return Object.values(e).indexOf(t)}function jo(e,t,n,o){if(!e)return[];const i=Object.values(e),r=t.length-o;return[...t].map((l,s)=>s>=r?i.length:i.indexOf(l))}function On(e,t){this.$nextTick(()=>this.$emit(e.toLowerCase(),t))}function zo(e){return t=>{this.realList!==null&&this["onDrag"+e](t),On.call(this,e,t)}}function Yo(e){return["transition-group","TransitionGroup"].includes(e)}function Uo(e){if(!e||e.length!==1)return!1;const[{type:t}]=e;return t?Yo(t.name):!1}function Xo(e,t){return t?{...t.props,...t.attrs}:e}const Lt=["Start","Add","Remove","Update","End"],jt=["Choose","Unchoose","Sort","Filter","Clone"],Ho=["Move",...Lt,...jt].map(e=>"on"+e);let Pt=null;const Wo={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Go=vn({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Lt.map(e=>e.toLowerCase()),...jt.map(e=>e.toLowerCase())],props:Wo,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,t=Xo(this.$attrs,this.componentData);return e?(this.transitionMode=Uo(e),q(this.getTag(),t,e)):q(this.getTag(),t,[])},created(){this.list!==null&&this.modelValue!==null&&Bo.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Lt.forEach(i=>{e["on"+i]=zo.call(this,i)}),jt.forEach(i=>{e["on"+i]=On.bind(this,i)});const t=Object.keys(this.$attrs).reduce((i,r)=>(i[sn(r)]=this.$attrs[r],i),{}),n=Object.assign({},t,e,{onMove:(i,r)=>this.onDragMove(i,r)});!("draggable"in n)&&(n.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new S(o,n),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?bn(this.component):this.tag},updateOptions(e){for(var t in e){const n=sn(t);Ho.indexOf(n)===-1&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=jo(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const t=Lo(this.getChildrenNodes()||[],e);if(t===-1)return null;const n=this.realList[t];return{index:t,element:n}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=o=>o.splice(t,0,o.splice(e,1)[0]);this.alterList(n)},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var t=this.getChildrenNodes();t[e].data=null;const n=this.getComponent();n.children=[],n.kept=void 0},onDragStart(e){this.computeIndexes(),this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Pt=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;Ft(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(un(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){Ft(e.clone);return}if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Ft(e.item),un(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(e),i=this.context,r=this.computeFutureIndex(o,e);Object.assign(i,{futureIndex:r});const a=Object.assign({},e,{relatedContext:o,draggedContext:i});return n(a,t)},onDragEnd(){this.computeIndexes(),Pt=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};if(e!==t&&o&&n.getUnderlyingVm){const r=n.getUnderlyingVm(t);if(r)return Object.assign(r,i)}return i},computeFutureIndex(e,t){const n=[...t.to.children].filter(a=>a.style.display!=="none");if(n.length===0)return 0;const o=n.indexOf(t.related),i=e.component.getVmIndex(o);return n.indexOf(Pt)!==-1||!t.willInsertAfter?i:i+1}}});function Ko({validate:e,resetValidation:t,requiresQForm:n}){const o=Rn(Nn,!1);if(o!==!1){const{props:i,proxy:r}=We();Object.assign(r,{validate:e,resetValidation:t}),re(()=>i.disable,a=>{a===!0?(typeof t=="function"&&t(),o.unbindComponent(r)):o.bindComponent(r)}),bt(()=>{i.disable!==!0&&o.bindComponent(r)}),yt(()=>{i.disable!==!0&&o.unbindComponent(r)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const dn=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,fn=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,cn=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,it=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,rt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Rt={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>dn.test(e),hexaColor:e=>fn.test(e),hexOrHexaColor:e=>cn.test(e),rgbColor:e=>it.test(e),rgbaColor:e=>rt.test(e),rgbOrRgbaColor:e=>it.test(e)||rt.test(e),hexOrRgbColor:e=>dn.test(e)||it.test(e),hexaOrRgbaColor:e=>fn.test(e)||rt.test(e),anyColor:e=>cn.test(e)||it.test(e)||rt.test(e)},Zo=[!0,!1,"ondemand"],Qo={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Zo.includes(e)}};function Jo(e,t){const{props:n,proxy:o}=We(),i=ne(!1),r=ne(null),a=ne(null);Ko({validate:w,resetValidation:E});let l=0,s;const u=$(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),c=$(()=>n.disable!==!0&&u.value===!0),d=$(()=>n.error===!0||i.value===!0),C=$(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:r.value);re(()=>n.modelValue,()=>{b()}),re(()=>n.reactiveRules,N=>{N===!0?s===void 0&&(s=re(()=>n.rules,()=>{b(!0)})):s!==void 0&&(s(),s=void 0)},{immediate:!0}),re(e,N=>{N===!0?a.value===null&&(a.value=!1):a.value===!1&&(a.value=!0,c.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&k())});function E(){l++,t.value=!1,a.value=null,i.value=!1,r.value=null,k.cancel()}function w(N=n.modelValue){if(c.value!==!0)return!0;const A=++l,z=t.value!==!0?()=>{a.value=!0}:()=>{},Y=(O,F)=>{O===!0&&z(),i.value=O,r.value=F||null,t.value=!1},G=[];for(let O=0;O<n.rules.length;O++){const F=n.rules[O];let L;if(typeof F=="function"?L=F(N,Rt):typeof F=="string"&&Rt[F]!==void 0&&(L=Rt[F](N)),L===!1||typeof L=="string")return Y(!0,L),!1;L!==!0&&L!==void 0&&G.push(L)}return G.length===0?(Y(!1),!0):(t.value=!0,Promise.all(G).then(O=>{if(O===void 0||Array.isArray(O)===!1||O.length===0)return A===l&&Y(!1),!0;const F=O.find(L=>L===!1||typeof L=="string");return A===l&&Y(F!==void 0,F),F===void 0},O=>(A===l&&(console.error(O),Y(!0)),!1)))}function b(N){c.value===!0&&n.lazyRules!=="ondemand"&&(a.value===!0||n.lazyRules!==!0&&N!==!0)&&k()}const k=Vn(w,0);return yt(()=>{s!==void 0&&s(),k.cancel()}),Object.assign(o,{resetValidation:E,validate:w}),yn(o,"hasError",()=>d.value),{isDirtyModel:a,hasRules:u,hasError:d,errorMessage:C,validate:w,resetValidation:E}}const hn=/^on[A-Z]/;function ei(e,t){const n={listeners:ne({}),attributes:ne({})};function o(){const i={},r={};for(const a in e)a!=="class"&&a!=="style"&&hn.test(a)===!1&&(i[a]=e[a]);for(const a in t.props)hn.test(a)===!0&&(r[a]=t.props[a]);n.attributes.value=i,n.listeners.value=r}return Bn(o),o(),n}let Nt,at=0;const J=new Array(256);for(let e=0;e<256;e++)J[e]=(e+256).toString(16).substring(1);const ti=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let o=t;o>0;o--)n.push(Math.floor(Math.random()*256));return n}})(),gn=4096;function ni(){(Nt===void 0||at+16>gn)&&(at=0,Nt=ti(gn));const e=Array.prototype.slice.call(Nt,at,at+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,J[e[0]]+J[e[1]]+J[e[2]]+J[e[3]]+"-"+J[e[4]]+J[e[5]]+"-"+J[e[6]]+J[e[7]]+"-"+J[e[8]]+J[e[9]]+"-"+J[e[10]]+J[e[11]]+J[e[12]]+J[e[13]]+J[e[14]]+J[e[15]]}let zt=[],oi=[];function Fn(e){oi.length===0?e():zt.push(e)}function ii(e){zt=zt.filter(t=>t!==e)}function Yt(e){return e===void 0?`f_${ni()}`:e}function Ut(e){return e!=null&&(""+e).length!==0}const ri={...zn,...Qo,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},ai=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function li(){const{props:e,attrs:t,proxy:n,vnode:o}=We();return{isDark:Yn(e,n.$q),editable:$(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:ne(!1),focused:ne(!1),hasPopupOpen:!1,splitAttrs:ei(t,o),targetUid:ne(Yt(e.for)),rootRef:ne(null),targetRef:ne(null),controlRef:ne(null)}}function si(e){const{props:t,emit:n,slots:o,attrs:i,proxy:r}=We(),{$q:a}=r;let l=null;e.hasValue===void 0&&(e.hasValue=$(()=>Ut(t.modelValue))),e.emitValue===void 0&&(e.emitValue=h=>{n("update:modelValue",h)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:f,onFocusout:g}),Object.assign(e,{clearValue:y,onControlFocusin:f,onControlFocusout:g,focus:F}),e.computedCounter===void 0&&(e.computedCounter=$(()=>{if(t.counter!==!1){const h=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,M=t.maxlength!==void 0?t.maxlength:t.maxValues;return h+(M!==void 0?" / "+M:"")}}));const{isDirtyModel:s,hasRules:u,hasError:c,errorMessage:d,resetValidation:C}=Jo(e.focused,e.innerLoading),E=e.floatingLabel!==void 0?$(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):$(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),w=$(()=>t.bottomSlots===!0||t.hint!==void 0||u.value===!0||t.counter===!0||t.error!==null),b=$(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),k=$(()=>`q-field row no-wrap items-start q-field--${b.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(E.value===!0?" q-field--float":"")+(A.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(c.value===!0?" q-field--error":"")+(c.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&w.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),N=$(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(c.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),A=$(()=>t.labelSlot===!0||t.label!==void 0),z=$(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&c.value!==!0?` text-${t.labelColor}`:"")),Y=$(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:E.value,modelValue:t.modelValue,emitValue:e.emitValue})),G=$(()=>{const h={for:e.targetUid.value};return t.disable===!0?h["aria-disabled"]="true":t.readonly===!0&&(h["aria-readonly"]="true"),h});re(()=>t.for,h=>{e.targetUid.value=Yt(h)});function O(){const h=document.activeElement;let M=e.targetRef!==void 0&&e.targetRef.value;M&&(h===null||h.id!==e.targetUid.value)&&(M.hasAttribute("tabindex")===!0||(M=M.querySelector("[tabindex]")),M&&M!==h&&M.focus({preventScroll:!0}))}function F(){Fn(O)}function L(){ii(O);const h=document.activeElement;h!==null&&e.rootRef.value.contains(h)&&h.blur()}function f(h){l!==null&&(clearTimeout(l),l=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",h))}function g(h,M){l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",h)),M!==void 0&&M())})}function y(h){qn(h),a.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),_e(()=>{C(),a.platform.is.mobile!==!0&&(s.value=!1)})}function v(){const h=[];return o.prepend!==void 0&&h.push(q("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:Ne},o.prepend())),h.push(q("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},x())),c.value===!0&&t.noErrorIcon===!1&&h.push(R("error",[q(Zt,{name:a.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?h.push(R("inner-loading-append",o.loading!==void 0?o.loading():[q(lo,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&h.push(R("inner-clearable-append",[q(Zt,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||a.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:y})])),o.append!==void 0&&h.push(q("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:Ne},o.append())),e.getInnerAppend!==void 0&&h.push(R("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&h.push(e.getControlChild()),h}function x(){const h=[];return t.prefix!==void 0&&t.prefix!==null&&h.push(q("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&h.push(e.getShadowControl()),e.getControl!==void 0?h.push(e.getControl()):o.rawControl!==void 0?h.push(o.rawControl()):o.control!==void 0&&h.push(q("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},o.control(Y.value))),A.value===!0&&h.push(q("div",{class:z.value},Qe(o.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&h.push(q("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),h.concat(Qe(o.default))}function D(){let h,M;c.value===!0?d.value!==null?(h=[q("div",{role:"alert"},d.value)],M=`q--slot-error-${d.value}`):(h=Qe(o.error),M="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(h=[q("div",t.hint)],M=`q--slot-hint-${t.hint}`):(h=Qe(o.hint),M="q--slot-hint"));const de=t.counter===!0||o.counter!==void 0;if(t.hideBottomSpace===!0&&de===!1&&h===void 0)return;const B=q("div",{key:M,class:"q-field__messages col"},h);return q("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:Ne},[t.hideBottomSpace===!0?B:q(Un,{name:"q-transition--field-message"},()=>B),de===!0?q("div",{class:"q-field__counter"},o.counter!==void 0?o.counter():e.computedCounter.value):null])}function R(h,M){return M===null?null:q("div",{key:h,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},M)}let T=!1;return $n(()=>{T=!0}),Ln(()=>{T===!0&&t.autofocus===!0&&r.focus()}),bt(()=>{jn.value===!0&&t.for===void 0&&(e.targetUid.value=Yt()),t.autofocus===!0&&r.focus()}),yt(()=>{l!==null&&clearTimeout(l)}),Object.assign(r,{focus:F,blur:L}),function(){const M=e.getControl===void 0&&o.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...G.value}:G.value;return q("label",{ref:e.rootRef,class:[k.value,i.class],style:i.style,...M},[o.before!==void 0?q("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:Ne},o.before()):null,q("div",{class:"q-field__inner relative-position col self-stretch"},[q("div",{ref:e.controlRef,class:N.value,tabindex:-1,...e.controlEvents},v()),w.value===!0?D():null]),o.after!==void 0?q("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:Ne},o.after()):null])}}const mn={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},vt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Pn=Object.keys(vt);Pn.forEach(e=>{vt[e].regex=new RegExp(vt[e].pattern)});const ui=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Pn.join("")+"])|(.)","g"),pn=/[.*+?^${}()|[\]\\]/g,K=String.fromCharCode(1),di={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function fi(e,t,n,o){let i,r,a,l,s,u;const c=ne(null),d=ne(E());function C(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}re(()=>e.type+e.autogrow,b),re(()=>e.mask,f=>{if(f!==void 0)k(d.value,!0);else{const g=F(d.value);b(),e.modelValue!==g&&t("update:modelValue",g)}}),re(()=>e.fillMask+e.reverseFillMask,()=>{c.value===!0&&k(d.value,!0)}),re(()=>e.unmaskedValue,()=>{c.value===!0&&k(d.value)});function E(){if(b(),c.value===!0){const f=G(F(e.modelValue));return e.fillMask!==!1?L(f):f}return e.modelValue}function w(f){if(f<i.length)return i.slice(-f);let g="",y=i;const v=y.indexOf(K);if(v>-1){for(let x=f-y.length;x>0;x--)g+=K;y=y.slice(0,v)+g+y.slice(v)}return y}function b(){if(c.value=e.mask!==void 0&&e.mask.length!==0&&C(),c.value===!1){l=void 0,i="",r="";return}const f=mn[e.mask]===void 0?e.mask:mn[e.mask],g=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",y=g.replace(pn,"\\$&"),v=[],x=[],D=[];let R=e.reverseFillMask===!0,T="",h="";f.replace(ui,(U,m,X,ve,ce)=>{if(ve!==void 0){const oe=vt[ve];D.push(oe),h=oe.negate,R===!0&&(x.push("(?:"+h+"+)?("+oe.pattern+"+)?(?:"+h+"+)?("+oe.pattern+"+)?"),R=!1),x.push("(?:"+h+"+)?("+oe.pattern+")?")}else if(X!==void 0)T="\\"+(X==="\\"?"":X),D.push(X),v.push("([^"+T+"]+)?"+T+"?");else{const oe=m!==void 0?m:ce;T=oe==="\\"?"\\\\\\\\":oe.replace(pn,"\\\\$&"),D.push(oe),v.push("([^"+T+"]+)?"+T+"?")}});const M=new RegExp("^"+v.join("")+"("+(T===""?".":"[^"+T+"]")+"+)?"+(T===""?"":"["+T+"]*")+"$"),de=x.length-1,B=x.map((U,m)=>m===0&&e.reverseFillMask===!0?new RegExp("^"+y+"*"+U):m===de?new RegExp("^"+U+"("+(h===""?".":h)+"+)?"+(e.reverseFillMask===!0?"$":y+"*")):new RegExp("^"+U));a=D,l=U=>{const m=M.exec(e.reverseFillMask===!0?U:U.slice(0,D.length+1));m!==null&&(U=m.slice(1).join(""));const X=[],ve=B.length;for(let ce=0,oe=U;ce<ve;ce++){const Te=B[ce].exec(oe);if(Te===null)break;oe=oe.slice(Te.shift().length),X.push(...Te)}return X.length!==0?X.join(""):U},i=D.map(U=>typeof U=="string"?U:K).join(""),r=i.split(K).join(g)}function k(f,g,y){const v=o.value,x=v.selectionEnd,D=v.value.length-x,R=F(f);g===!0&&b();const T=G(R),h=e.fillMask!==!1?L(T):T,M=d.value!==h;v.value!==h&&(v.value=h),M===!0&&(d.value=h),document.activeElement===v&&_e(()=>{if(h===r){const B=e.reverseFillMask===!0?r.length:0;v.setSelectionRange(B,B,"forward");return}if(y==="insertFromPaste"&&e.reverseFillMask!==!0){const B=v.selectionEnd;let U=x-1;for(let m=s;m<=U&&m<B;m++)i[m]!==K&&U++;A.right(v,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(y)>-1){const B=e.reverseFillMask===!0?x===0?h.length>T.length?1:0:Math.max(0,h.length-(h===r?0:Math.min(T.length,D)+1))+1:x;v.setSelectionRange(B,B,"forward");return}if(e.reverseFillMask===!0)if(M===!0){const B=Math.max(0,h.length-(h===r?0:Math.min(T.length,D+1)));B===1&&x===1?v.setSelectionRange(B,B,"forward"):A.rightReverse(v,B)}else{const B=h.length-D;v.setSelectionRange(B,B,"backward")}else if(M===!0){const B=Math.max(0,i.indexOf(K),Math.min(T.length,x)-1);A.right(v,B)}else{const B=x-1;A.right(v,B)}});const de=e.unmaskedValue===!0?F(h):h;String(e.modelValue)!==de&&n(de,!0)}function N(f,g,y){const v=G(F(f.value));g=Math.max(0,i.indexOf(K),Math.min(v.length,g)),s=g,f.setSelectionRange(g,y,"forward")}const A={left(f,g){const y=i.slice(g-1).indexOf(K)===-1;let v=Math.max(0,g-1);for(;v>=0;v--)if(i[v]===K){g=v,y===!0&&g++;break}if(v<0&&i[g]!==void 0&&i[g]!==K)return A.right(f,0);g>=0&&f.setSelectionRange(g,g,"backward")},right(f,g){const y=f.value.length;let v=Math.min(y,g+1);for(;v<=y;v++)if(i[v]===K){g=v;break}else i[v-1]===K&&(g=v);if(v>y&&i[g-1]!==void 0&&i[g-1]!==K)return A.left(f,y);f.setSelectionRange(g,g,"forward")},leftReverse(f,g){const y=w(f.value.length);let v=Math.max(0,g-1);for(;v>=0;v--)if(y[v-1]===K){g=v;break}else if(y[v]===K&&(g=v,v===0))break;if(v<0&&y[g]!==void 0&&y[g]!==K)return A.rightReverse(f,0);g>=0&&f.setSelectionRange(g,g,"backward")},rightReverse(f,g){const y=f.value.length,v=w(y),x=v.slice(0,g+1).indexOf(K)===-1;let D=Math.min(y,g+1);for(;D<=y;D++)if(v[D-1]===K){g=D,g>0&&x===!0&&g--;break}if(D>y&&v[g-1]!==void 0&&v[g-1]!==K)return A.leftReverse(f,y);f.setSelectionRange(g,g,"forward")}};function z(f){t("click",f),u=void 0}function Y(f){if(t("keydown",f),Xn(f)===!0||f.altKey===!0)return;const g=o.value,y=g.selectionStart,v=g.selectionEnd;if(f.shiftKey||(u=void 0),f.keyCode===37||f.keyCode===39){f.shiftKey&&u===void 0&&(u=g.selectionDirection==="forward"?y:v);const x=A[(f.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(f.preventDefault(),x(g,u===y?v:y),f.shiftKey){const D=g.selectionStart;g.setSelectionRange(Math.min(u,D),Math.max(u,D),"forward")}}else f.keyCode===8&&e.reverseFillMask!==!0&&y===v?(A.left(g,y),g.setSelectionRange(g.selectionStart,v,"backward")):f.keyCode===46&&e.reverseFillMask===!0&&y===v&&(A.rightReverse(g,v),g.setSelectionRange(y,g.selectionEnd,"forward"))}function G(f){if(f==null||f==="")return"";if(e.reverseFillMask===!0)return O(f);const g=a;let y=0,v="";for(let x=0;x<g.length;x++){const D=f[y],R=g[x];if(typeof R=="string")v+=R,D===R&&y++;else if(D!==void 0&&R.regex.test(D))v+=R.transform!==void 0?R.transform(D):D,y++;else return v}return v}function O(f){const g=a,y=i.indexOf(K);let v=f.length-1,x="";for(let D=g.length-1;D>=0&&v>-1;D--){const R=g[D];let T=f[v];if(typeof R=="string")x=R+x,T===R&&v--;else if(T!==void 0&&R.regex.test(T))do x=(R.transform!==void 0?R.transform(T):T)+x,v--,T=f[v];while(y===D&&T!==void 0&&R.regex.test(T));else return x}return x}function F(f){return typeof f!="string"||l===void 0?typeof f=="number"?l(""+f):f:l(f)}function L(f){return r.length-f.length<=0?f:e.reverseFillMask===!0&&f.length!==0?r.slice(0,-f.length)+f:f+r.slice(f.length)}return{innerValue:d,hasMask:c,moveCursorForPaste:N,updateMaskValue:k,onMaskedKeydown:Y,onMaskedClick:z}}function ci(e,t){function n(){const o=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(r=>{i.items.add(r)}),{files:i.files}}catch{return{files:void 0}}}return t===!0?$(()=>{if(e.type==="file")return n()}):$(n)}const hi=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,gi=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,mi=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,pi=/[a-z0-9_ -]$/i;function vi(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Hn.is.firefox===!0?pi.test(n.data)===!1:hi.test(n.data)===!0||gi.test(n.data)===!0||mi.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var bi=Wn({name:"QInput",inheritAttrs:!1,props:{...ri,...di,...Gn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ai,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=We(),{$q:i}=o,r={};let a=NaN,l,s,u=null,c;const d=ne(null),C=Kn(e),{innerValue:E,hasMask:w,moveCursorForPaste:b,updateMaskValue:k,onMaskedKeydown:N,onMaskedClick:A}=fi(e,t,T,d),z=ci(e,!0),Y=$(()=>Ut(E.value)),G=vi(D),O=li(),F=$(()=>e.type==="textarea"||e.autogrow===!0),L=$(()=>F.value===!0||["text","search","url","tel","password"].includes(e.type)),f=$(()=>{const m={...O.splitAttrs.listeners.value,onInput:D,onPaste:x,onChange:M,onBlur:de,onFocus:Gt};return m.onCompositionstart=m.onCompositionupdate=m.onCompositionend=G,w.value===!0&&(m.onKeydown=N,m.onClick=A),e.autogrow===!0&&(m.onAnimationend=R),m}),g=$(()=>{const m={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:C.value,...O.splitAttrs.attributes.value,id:O.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return F.value===!1&&(m.type=e.type),e.autogrow===!0&&(m.rows=1),m});re(()=>e.type,()=>{d.value&&(d.value.value=e.modelValue)}),re(()=>e.modelValue,m=>{if(w.value===!0){if(s===!0&&(s=!1,String(m)===a))return;k(m)}else E.value!==m&&(E.value=m,e.type==="number"&&r.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete r.value));e.autogrow===!0&&_e(h)}),re(()=>e.autogrow,m=>{m===!0?_e(h):d.value!==null&&n.rows>0&&(d.value.style.height="auto")}),re(()=>e.dense,()=>{e.autogrow===!0&&_e(h)});function y(){Fn(()=>{const m=document.activeElement;d.value!==null&&d.value!==m&&(m===null||m.id!==O.targetUid.value)&&d.value.focus({preventScroll:!0})})}function v(){d.value!==null&&d.value.select()}function x(m){if(w.value===!0&&e.reverseFillMask!==!0){const X=m.target;b(X,X.selectionStart,X.selectionEnd)}t("paste",m)}function D(m){if(!m||!m.target)return;if(e.type==="file"){t("update:modelValue",m.target.files);return}const X=m.target.value;if(m.target.qComposing===!0){r.value=X;return}if(w.value===!0)k(X,!1,m.inputType);else if(T(X),L.value===!0&&m.target===document.activeElement){const{selectionStart:ve,selectionEnd:ce}=m.target;ve!==void 0&&ce!==void 0&&_e(()=>{m.target===document.activeElement&&X.indexOf(m.target.value)===0&&m.target.setSelectionRange(ve,ce)})}e.autogrow===!0&&h()}function R(m){t("animationend",m),h()}function T(m,X){c=()=>{u=null,e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==m&&a!==m&&(a=m,X===!0&&(s=!0),t("update:modelValue",m),_e(()=>{a===m&&(a=NaN)})),c=void 0},e.type==="number"&&(l=!0,r.value=m),e.debounce!==void 0?(u!==null&&clearTimeout(u),r.value=m,u=setTimeout(c,e.debounce)):c()}function h(){requestAnimationFrame(()=>{const m=d.value;if(m!==null){const X=m.parentNode.style,{scrollTop:ve}=m,{overflowY:ce,maxHeight:oe}=i.platform.is.firefox===!0?{}:window.getComputedStyle(m),Te=ce!==void 0&&ce!=="scroll";Te===!0&&(m.style.overflowY="hidden"),X.marginBottom=m.scrollHeight-1+"px",m.style.height="1px",m.style.height=m.scrollHeight+"px",Te===!0&&(m.style.overflowY=parseInt(oe,10)<m.scrollHeight?"auto":"hidden"),X.marginBottom="",m.scrollTop=ve}})}function M(m){G(m),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),t("change",m.target.value)}function de(m){m!==void 0&&Gt(m),u!==null&&(clearTimeout(u),u=null),c!==void 0&&c(),l=!1,s=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{d.value!==null&&(d.value.value=E.value!==void 0?E.value:"")})}function B(){return r.hasOwnProperty("value")===!0?r.value:E.value!==void 0?E.value:""}yt(()=>{de()}),bt(()=>{e.autogrow===!0&&h()}),Object.assign(O,{innerValue:E,fieldClass:$(()=>`q-${F.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:$(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:d,emitValue:T,hasValue:Y,floatingLabel:$(()=>Y.value===!0&&(e.type!=="number"||isNaN(E.value)===!1)||Ut(e.displayValue)),getControl:()=>q(F.value===!0?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...g.value,...f.value,...e.type!=="file"?{value:B()}:z.value}),getShadowControl:()=>q("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(F.value===!0?"":" text-no-wrap")},[q("span",{class:"invisible"},B()),q("span",e.shadowText)])});const U=si(O);return Object.assign(o,{focus:y,select:v,getNativeElement:()=>d.value}),yn(o,"nativeEl",()=>d.value),U}});const Et=e=>(to("data-v-67fca7ce"),e=e(),no(),e),yi=["onClick"],wi=Et(()=>Ge("div",{class:"filler"},null,-1)),Ei=Et(()=>Ge("span",{class:"invisible"},"\u7DE8\u8F2F",-1)),_i=Et(()=>Ge("span",{class:"invisible"},"\u641C\u8A62",-1)),Si=Et(()=>Ge("span",{class:"invisible"},"\u522A\u9664",-1)),Ci={class:"row","fixed-bottom-right":""};function xi(e,t,n,o,i,r){const a=bn("draggable");return Ve(),Kt(so,{class:"row items-center justify-evenly"},{default:Be(()=>[Ie(a,{class:"dragArea list-group w-full",modelValue:e.steps,"onUpdate:modelValue":t[0]||(t[0]=l=>e.steps=l),onChange:e.onChange},{default:Be(()=>[(Ve(!0),_t(Qn,null,Zn(e.steps,(l,s)=>(Ve(),_t("div",{class:"item flex row justify-between align-center",key:l.id,onClick:u=>e.toggleEdit(l)},[l.editing?(Ve(),Kt(bi,{key:0,class:"filled",style:Je({"font-size":e.fontSizeRef+"px"}),autofocus:!0,modelValue:l.name,"onUpdate:modelValue":u=>l.name=u,dense:"",ref_for:!0,ref:`input-${l.id}`,onBlur:u=>e.finishEdit(l),onKeyup:Jn(u=>e.finishEdit(l),["enter"])},null,8,["style","modelValue","onUpdate:modelValue","onBlur","onKeyup"])):(Ve(),_t("div",{key:1,style:Je({"font-size":e.fontSizeRef+"px"})},eo(l.name),5)),wi,Ie(qe,{class:"small",color:"primary",flat:"",dense:"",onClick:St(u=>e.editStep(l),["stop"]),icon:"edit",title:"\u7DE8\u8F2F"},{default:Be(()=>[Ei]),_:2},1032,["onClick"]),Ie(qe,{class:"small",color:"secondary",flat:"",dense:"",onClick:St(u=>e.openInNewTab(l.name),["stop"]),title:"\u641C\u8A62",icon:"search"},{default:Be(()=>[_i]),_:2},1032,["onClick"]),Ie(qe,{class:"small",color:"red",flat:"",dense:"",onClick:St(u=>e.removeStep(l.id),["stop"]),icon:"delete",title:"\u522A\u9664"},{default:Be(()=>[Si]),_:2},1032,["onClick"])],8,yi))),128))]),_:1},8,["modelValue","onChange"]),Ge("div",Ci,[Ie(qe,{class:"q-ma-md",style:Je({"font-size":e.fontSizeRef+"px"}),color:"green-10",onClick:e.addNewStep,icon:"add",label:"\u589E\u52A0\u6B65\u9A5F"},null,8,["style","onClick"]),Ie(qe,{style:Je({"font-size":e.fontSizeRef+"px"}),color:"primary",icon:"save",label:"\u5132\u5B58",onClick:e.savePath},null,8,["style","onClick"])])]),_:1})}const Di=vn({name:"EdiTor",props:{font_size:{type:Number,default:16}},components:{draggable:Go},setup(e,{emit:t}){const{font_size:n}=io(e),o=ne([{name:"Step1",id:0,editing:!1},{name:"Step2",id:1,editing:!1},{name:"Step3",id:2,editing:!1}]),i=ro(),r=ao(),a=b=>{const k=`https://www.google.com/search?q=${encodeURIComponent(b)}`;window.open(k,"_blank")},l=()=>{t("savePath")},s=()=>{const b="/edit/"+o.value.map(k=>encodeURIComponent(k.name.replace(/\s/g,"_"))).join("%20");r.push(b)},u=b=>{console.log("start edit!"),b.editing=!0,/step\d+/.test(b.name)&&(b.name=""),_e(()=>{const A=`input-${b.id}`,z=ne(A);z.value&&z.value.$el&&z.value.$el.focus()})},c=b=>{console.log("end edit!"),b.editing=!1,s()},d=b=>{b.editing?c(b):u(b)},C=()=>{const b=o.value.length?Math.max(...o.value.map(k=>k.id))+1:0;o.value.push({name:"step"+(o.value.length?Math.max(...o.value.map(k=>k.id))+2:1),id:b,editing:!1}),s()},E=()=>{o.value.length>0&&(o.value.pop(),s())},w=b=>{const k=o.value.findIndex(N=>N.id===b);k!==-1&&window.confirm("\u78BA\u8A8D\u8981\u522A\u9664\u8A72\u6B65\u9A5F\u55CE?\u6B64\u52D5\u4F5C\u4E0D\u80FD\u5FA9\u539F")&&(o.value.splice(k,1),s())};return bt(()=>{if(i.params.steps){const b=i.params.steps.split(/%20|\s/);o.value=b.map((k,N)=>({id:N,name:k,editing:!1}))}}),re(()=>i.params.steps,b=>{if(b){const k=b.split(/%20|\s/);o.value=k.map((N,A)=>({id:A,name:N,editing:!1}))}}),{fontSizeRef:n,steps:o,openInNewTab:a,editStep:u,finishEdit:c,toggleEdit:d,addNewStep:C,removeLastStep:E,removeStep:w,onChange:s,savePath:l}}});var Fi=oo(Di,[["render",xi],["__scopeId","data-v-67fca7ce"]]);export{Fi as default};
